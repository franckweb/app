(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],u=0,f=[];u<r.length;u++)o=r[u],s[o]&&f.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={1:0},a=[];function o(t){return r.p+"js/"+({0:"lang-nl-NL"}[t]||t)+"."+{0:"03aa4c36"}[t]+".js"}function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,i){n=s[t]=[e,i]});e.push(n[2]=i);var a,l=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=o(t),a=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+i+": "+a+")");o.type=i,o.request=a,n[1](o)}s[t]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,l.appendChild(c)}return Promise.all(e)},r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;a.push([0,2]),n()})({"+mu8":function(t,e,n){"use strict";var i=n("P/4Z"),s=n.n(i);s.a},"+yNF":function(t,e,n){"use strict";var i=n("m2Lc"),s=n.n(i);s.a},"/5AG":function(t,e,n){},"/TgB":function(t,e,n){"use strict";var i=n("dSaO"),s=n.n(i);s.a},"/xLS":function(t,e,n){"use strict";var i=n("Mhph"),s=n.n(i);s.a},0:function(t,e,n){t.exports=n("Vtdi")},"065D":function(t,e,n){"use strict";var i=n("Wzmj"),s=n.n(i);s.a},"0Spp":function(t,e,n){},"0ZH7":function(t,e,n){"use strict";var i=n("B+cn"),s=n.n(i);s.a},"113U":function(t,e,n){"use strict";var i=n("J7A/"),s=n.n(i);s.a},"25t7":function(t,e,n){},"2slk":function(t,e,n){"use strict";var i=n("N3E7"),s=n.n(i);s.a},"3YME":function(t,e,n){},"3ki/":function(t,e,n){},"4AiE":function(t,e,n){},"4KBo":function(t,e,n){"use strict";var i=n("aqBk"),s=n.n(i);s.a},"4O2i":function(t,e,n){},"4OmM":function(t,e,n){"use strict";var i=n("Zw5l"),s=n.n(i);s.a},"4Uy4":function(t,e,n){},"578d":function(t,e,n){"use strict";var i=n("ZWYf"),s=n.n(i);s.a},"5b6U":function(t,e,n){},"680A":function(t,e,n){"use strict";var i=n("EEJ7"),s=n.n(i);s.a},"6pmf":function(t,e,n){},"7BE2":function(t,e,n){"use strict";var i=n("3ki/"),s=n.n(i);s.a},"7WO/":function(t,e,n){"use strict";var i=n("lrCz"),s=n.n(i);s.a},"87xP":function(t,e,n){"use strict";var i=n("JKbR"),s=n.n(i);s.a},"8hgk":function(t,e,n){},"9i7t":function(t,e,n){},AcIT:function(t,e,n){},"B+cn":function(t,e,n){},B8jf:function(t,e,n){"use strict";var i=n("aM3I"),s=n.n(i);s.a},CqCK:function(t,e,n){"use strict";var i=n("M2wh"),s=n.n(i);s.a},EEJ7:function(t,e,n){},EWuV:function(t,e,n){},EnEa:function(t,e,n){"use strict";n.r(e),n.d(e,"dateTimeFormats",function(){return i});var i={short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}};e["default"]={about_directus:"About Directus",activity:"Activity",activity_log:"Activity Log",activity_outside_directus:"This item was created outside of Directus.",additional_info:"Additional Info",add_new:"Add new",add_field_filter:"Add a field filter",add_note:"Add a helpful note for users...",admin_settings:"Admin Settings",almost_done_options:"Almost Done! Now just review the interface options below.",almost_done_copy:"Every interface can be perfectly tailored to your needs. Below are the available options for this field, but only some are required.",all:"All",allowed_statuses:"Allowed Statuses",api_url:"API URL",auto_generated:"Automatically generated...",batch_edit:"Batch edit",batch_delete:"Batch Delete",batch_delete_confirm:"No items have been selected | One item will be deleted. | {count} items will be deleted.",between:"Between",both:"Both",bookmarks:"Bookmarks",cancel:"Cancel",change_project:"Change Project",choose_one:"Choose one",choose_project:"Choose Project",choose_interface:"Choose an interface for how this data should be managed.",connection:"Connection",collection:"Collection",collection_names_cannot_be_changed:"Collection names cannot be edited at this time.",collections:"Collections",collection_count:"No Collections | One Collection | {count} Collections","collections-directus_files":"Files","collections-directus_users":"Users","collections-directus_activity":"Activity",comment:"Comment",comments:"Comments",contains:"Contains",collection_contains_items:"{collection} contains {count} items",currently_selected:"Currently selected: {thing}",create:"Create",creating_item:"Creating Item",creating_role:"Creating Role",create_field:"Create Field",create_collection:"Create Collection",datatype:"Datatype",db_name:"The database name of this field...",default:"Default",delete:"Delete",delete_are_you_sure:"Are you sure you want to delete this item? This action can not be undone.",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This action can not be undone.",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',delete_role_are_you_sure:'Are you sure to delete the role "{name}"? This action cannot be undone.',delete_bookmark:"Delete Bookmark",delete_bookmark_body:"Are you sure you want to delete this bookmark? This action cannot be undone.",description:"Description",delete_confirmation:"Delete Confirmation",dialog_beginning:"Beginning of dialog window.",discard_changes:"Discard Changes",display_name:"Display Name",drop_file:"Drop files here or click to upload.",dont_show:"Don't Show",editing:"Editing {collection}",editing_item:"Editing Item",editing_single:"Editing {collection}",email_address:"Email Address",email:"Email",empty_collection:"Empty Collection",empty_collection_body:"There are no items in this collection yet",enter_value:"Enter Value",enter_collection_name:"Enter collection name...",errors:{"-1":"Couldn't reach API",11:"Can't connect to database",100:"Wrong username and/or password",101:"Logged out due to inactivity",102:"Logged out due to inactivity",103:"User inactive",106:"Wrong username and/or password"},error_unknown:"Unknown error. Try again later.",esc_cancel:"Escape will cancel and close the window.",equal_to:"Equal to",fetching_data:"Fetching Data",field:"Field",fields:"Fields",fields_are_saved_automatically:"Field settings are saved automatically",file:"File",file_library:"File Library",file_upload:"Upload File(s)",forgot_password:"Forgot Password",greater_than_equal:"Greater than or equal to",greater_than:"Greater than",help_and_docs:"Help & Docs",keep_editing:"Keep editing",hidden_input:"Hidden on Details",hidden_list:"Hidden on List",in_list:"One of these",interface:"Interface",info:"Info",intelligent_defaults:"Directus sets intelligent defaults for the more advanced configuration settings, but you can override those here too!",interface_settings:"Every interface can be perfectly tailored to your needs. Below are the available options for this interface, but only some are required.",is_empty:"Is empty",is_not_null:"Is not NULL",is_null:"Is NULL",item_count:"No Items | One Item | {count} Items",item_count_filter:"No Filtered Items | One Filtered Item | {count} Filtered Items",item_deleted:"Item Deleted",item_saved:"Item Saved",extension_error:"There was a problem loading the {ext} extension.",latency:"Latency",learn_more:"Learn More",leave_comment:"Leave a comment...",length:"Length",less_than_equal:"Less than or equal to",less_than:"Less than",limited:"Limited",loading:"Loading...",loading_more:"Loading more items...",login:"Log in",name:"Name",name_field:"Let’s name this {field} field and configure how it will save data.",navigate_changes:"Are you sure you want to leave this page? The changes you made will be lost if you navigate away from this page.",new:"New",no_related_entries:"Has no related entries",not_between:"Not between",not_contains:"Doesn't contain",note:"Note",no_results:"No Results",no_results_body:"The current filters do not match any collection items",no_collections:"No Collections Setup",no_collections_body:"It seems like there aren't any collections setup yet",no_fields:"No Fields Setup",no_fields_body:"It seems like this collection doesn't have any fields setup yet",no_files:"No Files",no_files_body:"It seems like there haven't been any files uploaded yet",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",permissions:"Permissions",name_bookmark:"What would you like to name this bookmark?",next:"Next",not_empty:"Is not empty",not_equal_to:"Not equal to",not_in_list:"Not one of these",manage:"Manage",dont_manage:"Don't Manage",dont_manage_copy:"Privileges, preferences, and settings for the {collection} collection will be permanently removed from the system! Are you sure?",more_options:"More options",mixed:"Mixed",my_profile:"My Profile",other:"Other",ok:"OK",operator:"Operator",options:"Options",password:"Password",password_reset_sent:"Password reset email sent to {email}",powered_by_directus:"Powered by Directus",preview_and_rollback:"Preview and revert",read:"Read",read_blacklist:"Read Blacklist",read_blacklist_copy:"Select the fields that the user can view",readonly:"Readonly",regex:"RegEx",related_entries:"Has related entries",remove:"Remove",relationship:"Relationship",required:"Required",reset_preferences:"Reset all listing preferences",reset_password:"Reset Password",revert:"revert",roles:"User Roles",role_settings:"Role Settings",save:"Save",save_and_add:"Save and Add New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",save_as_bookmark:"Save as Bookmark",schema:"Schema",search:"Search",select_existing:"Select existing",select_field:"Select a Field",select_fields:"Select Fields",search_interface:"Search for an interface...",select_interface_below:"Select an interface below",select_statuses:"Select Statuses",select_statuses_copy:"Select the statuses the user can use",settings:"Settings",settings_interface:"Interface Settings",settings_global:"Global Settings",settings_collections_fields:"Collections & Fields",settings_permissions:"Roles & Permissions",settings_extensions:"Extensions",server_details:"Server Details",server_error:"Server Error",server_error_copy:"Something is wrong with this instance’s server or database.",server_trouble:"Server Trouble",server_trouble_copy:"Try again later or contact your system administrator help.",show_advanced_options:"Show advanced options",something_went_wrong:"Something went wrong..",something_went_wrong_body:"We're having some trouble processing your request.. Please try again by refreshing this page. If the problem persists, please contact your system administrator.",sign_in:"Sign In",signing_in:"Signing In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",to:"To",unsaved_changes_copy:"You have unsaved changes! Are you sure you want to leave this page?",user_directory:"User Directory",update:"Update",unique:"Unique",value:"Value",values:"Values",validation:"Validation",version:"Version",version_and_updates:"Version and Updates",view_type:"View As...",write_blacklist:"Write Blacklist",write_blacklist_copy:"Select the fields that the user can edit",yes:"Yes"}},EoGF:function(t,e,n){"use strict";var i=n("rcNZ"),s=n.n(i);s.a},Ez7R:function(t,e,n){},FIfs:function(t,e,n){"use strict";var i=n("e+Uw"),s=n.n(i);s.a},GFKB:function(t,e,n){},GpsU:function(t,e,n){},HQVv:function(t,e,n){},I4oE:function(t,e,n){"use strict";var i=n("EWuV"),s=n.n(i);s.a},Ib3T:function(t,e,n){"use strict";var i=n("AcIT"),s=n.n(i);s.a},IiQu:function(t,e,n){t.exports=n.p+"img/logo-dark.912f80a1.svg"},"J7A/":function(t,e,n){},JKbR:function(t,e,n){},"L/B1":function(t,e,n){"use strict";var i=n("NP9O"),s=n.n(i);s.a},LJwr:function(t,e,n){"use strict";var i=n("V57Q"),s=n.n(i);s.a},LstB:function(t,e,n){"use strict";var i=n("HQVv"),s=n.n(i);s.a},M2wh:function(t,e,n){},MY4Q:function(t,e,n){"use strict";var i=n("5b6U"),s=n.n(i);s.a},Mhph:function(t,e,n){},N3E7:function(t,e,n){},"NMD+":function(t,e,n){"use strict";var i=n("vCpH"),s=n.n(i);s.a},NP9O:function(t,e,n){},OOb1:function(t,e,n){},"P/4Z":function(t,e,n){},Pjka:function(t,e,n){"use strict";var i=n("isuZ"),s=n.n(i);s.a},QGVQ:function(t,e,n){},RISZ:function(t,e,n){"use strict";var i=n("GpsU"),s=n.n(i);s.a},RODh:function(t,e,n){"use strict";var i=n("tv5v"),s=n.n(i);s.a},RZQ4:function(t,e,n){"use strict";var i=n("TCah"),s=n.n(i);s.a},RqIC:function(t,e,n){"use strict";var i=n("lorM"),s=n.n(i);s.a},Ss1K:function(t,e,n){"use strict";var i=n("dqCW"),s=n.n(i);s.a},TCah:function(t,e,n){},TlLQ:function(t,e,n){"use strict";var i=n("eb3e"),s=n.n(i);s.a},V57Q:function(t,e,n){},V8Ty:function(t,e,n){"use strict";var i=n("Yn7C"),s=n.n(i);s.a},VPgj:function(t,e,n){},VSmM:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"LOGIN_PENDING",function(){return Mi}),n.d(i,"LOGIN_SUCCESS",function(){return Ui}),n.d(i,"LOGIN_FAILED",function(){return Ki}),n.d(i,"LOGOUT",function(){return zi}),n.d(i,"REFRESH_TOKEN",function(){return Qi}),n.d(i,"REMOVE_AUTH_ERROR",function(){return Wi}),n.d(i,"SET_BOOKMARKS",function(){return Gi}),n.d(i,"ADD_BOOKMARK",function(){return Hi}),n.d(i,"DELETE_BOOKMARK",function(){return Zi}),n.d(i,"SET_COLLECTIONS",function(){return Ji}),n.d(i,"ADD_COLLECTION",function(){return Yi}),n.d(i,"DELETE_COLLECTION",function(){return Xi}),n.d(i,"UPDATE_COLLECTION",function(){return ts}),n.d(i,"DISCARD_CHANGES",function(){return es}),n.d(i,"ITEM_CREATED",function(){return ns}),n.d(i,"START_EDITING",function(){return is}),n.d(i,"UNSTAGE_VALUE",function(){return ss}),n.d(i,"STAGE_VALUE",function(){return as}),n.d(i,"SET_INTERFACES",function(){return os}),n.d(i,"SET_LISTINGS",function(){return rs}),n.d(i,"SET_PAGES",function(){return ls}),n.d(i,"SET_FIELDS",function(){return cs}),n.d(i,"STORE_HYDRATED",function(){return us}),n.d(i,"HYDRATING_FAILED",function(){return ds}),n.d(i,"LATENCY",function(){return fs}),n.d(i,"LOADING_START",function(){return hs}),n.d(i,"LOADING_FINISHED",function(){return ps}),n.d(i,"SET_CURRENT_USER",function(){return ms}),n.d(i,"UPDATE_CURRENT_USER",function(){return vs}),n.d(i,"SET_SETTINGS",function(){return gs}),n.d(i,"TOGGLE_NAV",function(){return _s}),n.d(i,"TOGGLE_INFO",function(){return ys});var s={};n.r(s),n.d(s,"login",function(){return lo}),n.d(s,"loginSSO",function(){return co}),n.d(s,"refresh",function(){return uo}),n.d(s,"logout",function(){return fo}),n.d(s,"removeAuthError",function(){return ho}),n.d(s,"clearAuth",function(){return po});var a={};n.r(a),n.d(a,"tokenPayload",function(){return yo}),n.d(a,"loggedIn",function(){return bo});var o={};n.r(o),n.d(o,"getExtensions",function(){return Eo}),n.d(o,"getAllExtensions",function(){return Fo});var r={};n.r(r),n.d(r,"discardChanges",function(){return Ao}),n.d(r,"startEditing",function(){return Bo}),n.d(r,"stageValue",function(){return Lo}),n.d(r,"unstageValue",function(){return Vo}),n.d(r,"save",function(){return Ro});var l={};n.r(l),n.d(l,"editing",function(){return Do});var c={};n.r(c),n.d(c,"latency",function(){return Zo}),n.d(c,"getSettings",function(){return Jo}),n.d(c,"getCurrentUser",function(){return Yo}),n.d(c,"track",function(){return Xo}),n.d(c,"getFields",function(){return tr}),n.d(c,"getCollections",function(){return er}),n.d(c,"addCollection",function(){return nr}),n.d(c,"removeCollection",function(){return ir}),n.d(c,"updateCollection",function(){return sr}),n.d(c,"getBookmarks",function(){return ar}),n.d(c,"saveBookmark",function(){return or}),n.d(c,"deleteBookmark",function(){return rr}),n.d(c,"loadingStart",function(){return lr}),n.d(c,"loadingFinished",function(){return cr});var u={};n.r(u),n.d(u,"signalStrength",function(){return ur});n("WLL4"),n("yt8O"),n("VRzm");var d=n("Kw5r"),f=n("LvDl"),h=n.n(f),p=n("FRYs"),m=n.n(p),v=n("433b"),g=n("hoI+"),_=n("XNn6"),y=n.n(_),b=n("vDqi"),$=n.n(b),k=n("ConA"),w=n.n(k),C=n("Us+F"),O=n.n(C),x=n("hCQt"),j=n.n(x),S=(n("4AiE"),n("pyXF"),n("6pmf"),n("W364")),E=n.n(S),F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"invisible-label",attrs:{for:t.htmlFor}},[t._t("default")],2)},N=[],q={name:"invisible-label",props:{htmlFor:{type:String,required:!0}}},T=q,P=(n("065D"),n("KHd+")),I=Object(P["a"])(T,F,N,!1,null,"43af0604",null),A=I.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"loader",class:t.area,style:{zIndex:t.zIndex}},[n("div",{staticClass:"overlay",class:{transparent:t.transparent}}),n("transition",{attrs:{name:"fade"}},[n("v-spinner",{directives:[{name:"show",rawName:"v-show",value:t.spinnerActive,expression:"spinnerActive"}],staticClass:"spinner"})],1)],1)])},L=[],V=(n("xfY5"),n("Z2Ku"),{name:"loader",props:{area:{type:String,default:null,validator:function(t){var e=["content","full-page"];return e.includes(t)}},transparent:{type:Boolean,default:!1},delay:{type:Number,default:0},spinnerDelay:{type:Number,default:0},zIndex:{type:Number,default:500}},data:function(){return{active:!1,spinnerActive:!1}},created:function(){var t=this;setTimeout(function(){t.active=!0},this.delay),setTimeout(function(){t.spinnerActive=!0},this.delay+this.spinnerDelay)}}),R=V,D=(n("Z10g"),Object(P["a"])(R,B,L,!1,null,"dd30166e",null)),M=D.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-avatar"},[n("div",{staticClass:"wrapper",style:{borderColor:"var(--"+t.color+")"}},[null==t.src||t.error?n("i",{staticClass:"material-icons"},[t._v("person")]):n("img",{directives:[{name:"show",rawName:"v-show",value:!t.error&&!1===t.loading,expression:"!error && loading === false"}],attrs:{src:t.src,alt:t.alt},on:{load:function(e){t.loading=!1},error:t.onImageLoadingError}})]),t.indicator?n("div",{staticClass:"indicator",style:{backgroundColor:"var(--"+t.color+")"}}):t._e()])},K=[],z={name:"v-avatar",props:{src:{type:String,default:null},alt:{type:String,required:!0},indicator:{type:Boolean,default:!1},color:{type:String,default:"accent"},size:{type:Number,default:40}},data:function(){return{loading:!1,error:!1}},methods:{onImageLoadingError:function(t){this.error=t,this.loading=!1}}},Q=z,W=(n("CqCK"),Object(P["a"])(Q,U,K,!1,null,"30e3d8f4",null)),G=W.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.element,{tag:"component",staticClass:"v-card",class:{link:t.link}},[n(t.wrapperTag,{tag:"component",attrs:{to:t.to,href:t.href}},[t.src||t.icon||t.$slots.icon?n("div",{staticClass:"header",style:{backgroundColor:"var(--"+t.color+")"}},[t.src&&!t.error?n("img",{attrs:{alt:t.title,src:t.src},on:{error:t.onImageError}}):t._e(),t.error?n("i",{staticClass:"material-icons error"},[t._v("broken_image")]):t._e(),t.icon?n("i",{staticClass:"material-icons",class:{"half-opacity":"half"===t.opacity}},[t._v(t._s(t.icon))]):t._e(),t.$slots.icon?n("div",{staticClass:"custom-icon"},[t._t("icon")],2):t._e(),t.label?n("span",{staticClass:"label"},[t._v(t._s(t.label))]):t._e()]):t._e(),n("div",{staticClass:"body"},[n(t.titleElement,{tag:"component",staticClass:"title "},[t._v(t._s(t.title))]),t.subtitle?n("p",{staticClass:"subtitle style-4"},[t._v(t._s(t.subtitle))]):t._e(),t.body?n("p",{staticClass:"content"},[t._v(t._s(t.body))]):t._e()],1)])],1)},Z=[],J=(n("L9s1"),{name:"v-card",props:{element:{type:String,default:"article"},titleElement:{type:String,default:"h2"},icon:{type:String,default:null},color:{type:String,default:"accent"},src:{type:String,default:null},title:{type:String,required:!0},subtitle:{type:String,default:null},body:{type:String,default:null},to:{type:String,default:null},href:{type:String,default:null},label:{type:String,default:null},opacity:{type:String,default:"full",validator:function(t){return["full","half"].includes(t)}}},data:function(){return{error:null}},computed:{wrapperTag:function(){return this.to?"router-link":this.href?"a":"div"},link:function(){return!(!this.to&&!this.href)}},methods:{onImageError:function(t){this.error=t}}}),Y=J,X=(n("MY4Q"),Object(P["a"])(Y,H,Z,!1,null,"15decf70",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("details",{staticClass:"v-details",class:t.type,attrs:{open:t.open}},[n("summary",[t._v(t._s(t.title))]),n("div",{staticClass:"content"},[t._t("default")],2)])},nt=[],it={name:"v-details",props:{title:{type:String,default:null},open:{type:Boolean,default:!1},type:{type:String,default:"group",validator:function(t){return["group","break"].includes(t)}}}},st=it,at=(n("fqSg"),Object(P["a"])(st,et,nt,!1,null,"d1f03ee2",null)),ot=at.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"v-table",style:{minWidth:t.totalWidth+"px"},on:{scroll:t.onScroll}},[n("div",{staticClass:"toolbar",class:{shadow:t.scrolled}},[t.selectable?n("div",{staticClass:"select cell"},[n("v-checkbox",{attrs:{id:"select-all",checked:t.allSelected,name:"select-all",value:"all"},on:{change:t.selectAll}})],1):t._e(),t._l(t.columns,function(e,i){var s=e.field,a=e.name;return n("div",{key:s,staticClass:"cell",style:{flexBasis:t.widths&&t.widths[s]?t.widths[s]+"px":null}},[t.sortable?n("button",{staticClass:"sort style-4 no-wrap",class:{active:t.sortVal.field===s},on:{click:function(e){t.updateSort(s)}}},[t._v(t._s(a)),t.sortVal.field===s?n("i",{staticClass:"material-icons"},[t._v(t._s(t.sortVal.asc?"arrow_downward":"arrow_upward"))]):t._e()]):n("span",{staticClass:"style-4"},[t._v(t._s(a))]),t.resizeable&&i!==t.columns.length-1?n("div",{staticClass:"drag-handle",attrs:{draggable:""},on:{drag:function(e){t.drag(s,e)},dragstart:t.hideDragImage,dragend:t.dragEnd}},[n("div",{staticClass:"drag-handle-line"})]):t._e()])})],2),n("div",{staticClass:"body",class:{loading:t.loading}},[t.link?t._l(t.items,function(e){return n("div",{key:e[t.primaryKeyField],staticClass:"link row",class:{selected:t.selection&&t.selection.includes(e[t.primaryKeyField])},style:{height:t.rowHeight+"px"},attrs:{tabindex:"0",role:"link"},on:{click:function(n){n.stopPropagation(),t.$router.push(e[t.link])},keyup:function(n){if(!("button"in n)&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;n.stopPropagation(),t.$router.push(e[t.link])}}},[t.selectable?n("div",{staticClass:"cell select",on:{click:function(t){t.stopPropagation()}}},[n("v-checkbox",{attrs:{id:"check-"+e[t.primaryKeyField],value:e[t.primaryKeyField],checked:t.selection.includes(e[t.primaryKeyField])},on:{change:function(n){t.toggleCheckbox(e[t.primaryKeyField])}}})],1):t._e(),t._l(t.columns,function(i){var s=i.field,a=i.fieldInfo;return n("div",{key:s,staticClass:"cell",style:{flexBasis:t.widths&&t.widths[s]?t.widths[s]+"px":null}},[""===e[s]||t.$lodash.isNil(e[s])?n("div",{staticClass:"empty"},[t._v("--")]):t.useInterfaces&&!t.$lodash.isNil(e[s])?n("v-readonly",{attrs:{"interface-type":a.interface,name:s,type:a.type,options:a.options,value:e[s]}}):[t._v(t._s(e[s]))]],2)})],2)}):t._l(t.items,function(e){return n("div",{key:e[t.primaryKeyField],staticClass:"row",style:{height:t.rowHeight+"px"}},[t.selectable?n("div",{staticClass:"select",on:{click:function(t){t.stopPropagation()}}},[n("v-checkbox",{attrs:{id:"check-"+e[t.primaryKeyField],value:e[t.primaryKeyField],checked:t.selection.includes(e[t.primaryKeyField])},on:{change:function(n){t.toggleCheckbox(e[t.primaryKeyField])}}})],1):t._e(),t._l(t.columns,function(i){var s=i.field,a=i.fieldInfo;return n("div",{key:s,staticClass:"cell",style:{flexBasis:t.widths&&t.widths[s]?t.widths[s]+"px":null}},[""===e[s]||t.$lodash.isNil(e[s])?n("div",{staticClass:"empty"},[t._v("--")]):t.useInterfaces&&!t.$lodash.isNil(e[s])?n("v-readonly",{attrs:{"interface-type":a.interface,name:s,type:a.type,options:a.options,value:e[s]}}):[t._v(t._s(e[s]))]],2)})],2)}),n("transition",{attrs:{name:"fade"}},[t.lazyLoading?n("div",{staticClass:"lazy-loader"},[n("v-spinner")],1):t._e()])],2)])},lt=[],ct=(n("8+KV"),n("V+eJ"),n("rGqo"),n("RW0V"),n("DNiP"),n("LK8F"),n("iv4g")),ut=(n("bWfx"),n("Vd3H"),{name:"v-table",props:{loading:{type:Boolean,default:!1},lazyLoading:{type:Boolean,default:!1},items:{type:Array,required:!0},height:{type:Number,default:null},columns:{type:Array,required:!0},link:{type:String,default:null},selection:{type:Array,default:null},sortVal:{type:Object,default:null},primaryKeyField:{type:String,required:!0},rowHeight:{type:Number,default:40},columnWidths:{type:Object,default:null},useInterfaces:{type:Boolean,default:!1}},data:function(){return{widths:{},lastDragXPosition:null,windowHeight:0,scrolled:!1}},computed:{allSelected:function(){var t=this,e=this.items.map(function(e){return e[t.primaryKeyField]}).sort(),n=Object(ct["a"])(this.selection);return n.sort(),this.selection.length>0&&this.$lodash.isEqual(e,n)},selectable:function(){return Array.isArray(this.selection)},sortable:function(){return this.$lodash.isObject(this.sortVal)},resizeable:function(){return this.$lodash.isObject(this.columnWidths)},totalWidth:function(){var t=this;return Object.keys(this.widths).map(function(e){return t.widths[e]}).reduce(function(t,e){return t+e},0)+30+40}},created:function(){this.initWidths()},watch:{columnWidths:function(){this.initWidths()},columns:function(){this.initWidths()}},methods:{selectAll:function(){var t=this;if(this.allSelected)return this.$emit("select",[]);var e=this.items.map(function(e){return e[t.primaryKeyField]});return this.$emit("select",e)},updateSort:function(t){var e={field:t,asc:t===this.sortVal.field?!this.sortVal.asc:"ASC"};this.$emit("sort",e)},toggleCheckbox:function(t){var e=Object(ct["a"])(this.selection);this.selection.includes(t)?e.splice(e.indexOf(t),1):e.push(t),this.$emit("select",e)},drag:function(t,e){var n=e.screenX;if(0!==n&&this.lastDragXPosition){var i=n-this.lastDragXPosition,s=this.widths[t]+i;this.widths[t]=s}this.lastDragXPosition=n},dragEnd:function(){this.lastDragXPosition=0,this.$emit("widths",this.widths)},hideDragImage:function(t){var e=document.createElement("img");e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.dataTransfer.setDragImage(e,0,0),t.dataTransfer.effectAllowed="move"},initWidths:function(){var t=this,e={};this.columns.forEach(function(n){var i=n.field;e[i]=t.columnWidths&&t.columnWidths[i]||200}),this.widths=e},onScroll:function(t){var e=t.srcElement,n=e.scrollHeight,i=e.clientHeight,s=e.scrollTop,a=n-i,o=a-s;o<=500&&this.$emit("scroll-end"),this.scrolled=s>0}}}),dt=ut,ft=(n("rJco"),Object(P["a"])(dt,rt,lt,!1,null,"4d6badf4",null)),ht=ft.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.componentName,{tag:"component"},[t._t("default")],2)},mt=[];n("pIFo");function vt(t){return new Promise(function(e,n){var i=document.createElement("script"),s=document.createElement("link");function a(){i.remove(),window.__DirectusExtension__=null}function o(){var t=window.__DirectusExtension__;e(t),a()}function r(t){n(t),a()}s.rel="stylesheet",s.href=t.slice(0,-2)+"css",s.onerror=function(){this.remove()},i.onload=o,i.onerror=r,i.src=t,document.body.appendChild(i),document.body.appendChild(s)})}n("f3/d");function gt(t){return d["default"].options.components[t]&&Object.keys(d["default"].options.components[t]).length>0}var _t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},yt=[],bt={name:"v-page-fallback",created:function(){this.$notify.alert(this.$t("extension_error",{ext:this.interfaceName}))}},$t=bt,kt=Object(P["a"])($t,_t,yt,!1,null,null,null),wt=kt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-loading"},[t._v("LOADING")])},Ot=[],xt={name:"page-loading"},jt=xt,St=Object(P["a"])(jt,Ct,Ot,!1,null,null,null),Et=St.exports,Ft={name:"v-page-extension",props:{id:{type:String,required:!0}},computed:{pages:function(){return this.$store.state.extensions.pages},page:function(){return this.pages&&this.pages[this.id]},componentName:function(){return"page-".concat(this.id)}},watch:{id:function(){this.registerPage()}},created:function(){this.registerPage()},methods:{registerPage:function(){if(!gt(this.componentName))if(this.page){var t="".concat(this.$api.url,"/").concat(this.page.path.replace("meta.json","page.js"));d["default"].component(this.componentName,function(){return{component:vt(t),error:wt,loading:Et}})}else d["default"].component(this.componentName,wt)}}},Nt=Ft,qt=Object(P["a"])(Nt,pt,mt,!1,null,null,null),Tt=qt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.componentName,{tag:"component",staticClass:"v-interface-extension",attrs:{"interface-name":t.id,name:t.name,value:t.value,type:t.typeOrDefault,length:t.lengthOrDefault,readonly:t.readonly,required:t.required,loading:t.loading,options:t.optionsWithDefaults,"new-item":t.newItem,relationship:t.relationship,fields:t.fields,values:t.values},on:{input:function(e){t.$emit("input",e)},setfield:function(e){t.$emit("setfield",e)}}},[t._t("default")],2)},It=[],At=n("yT7P"),Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-input",{staticClass:"v-interface-fallback",attrs:{value:t.value},on:{input:function(e){t.$emit("input",e)}}})},Lt=[],Vt={name:"v-interface-fallback",props:{value:{type:null,default:""},interfaceName:{type:String,default:""}},created:function(){this.$notify.alert(this.$t("extension_error",{ext:this.interfaceName}))}},Rt=Vt,Dt=(n("dUMx"),Object(P["a"])(Rt,Bt,Lt,!1,null,"4eb6840e",null)),Mt=Dt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interface-loading"},[t._v("LOADING")])},Kt=[],zt={name:"interface-loading"},Qt=zt,Wt=Object(P["a"])(Qt,Ut,Kt,!1,null,null,null),Gt=Wt.exports,Ht={name:"v-interface-extension",props:{id:{type:String,required:!0},name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,default:null},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},newItem:{type:Boolean,default:!1},relationship:{type:Object,default:null},fields:{type:Object,default:null},values:{type:Object,default:null}},computed:{interfaces:function(){return this.$store.state.extensions.interfaces},interface:function(){return this.interfaces&&this.interfaces[this.id]},componentName:function(){return"interface-".concat(this.id)},typeOrDefault:function(){return this.interface?this.type?this.type:Object.keys(this.interface.datatypes)[0]:null},lengthOrDefault:function(){return this.interface?this.length?this.length:this.interface.datatypes[this.typeOrDefault]:null},optionsWithDefaults:function(){if(!this.interface)return{};var t=this.$lodash.mapValues(this.interface.options,function(t){return t.default||null});return Object(At["a"])({},t,this.options)}},watch:{id:function(){this.registerInterface()}},created:function(){this.registerInterface()},methods:{registerInterface:function(){if(!gt(this.componentName))if(this.interface){var t="".concat(this.$api.url,"/").concat(this.interface.path.replace("meta.json","interface.js"));d["default"].component(this.componentName,function(){return{component:vt(t),error:Mt,loading:Gt}})}else d["default"].component(this.componentName,Mt)}}},Zt=Ht,Jt=Object(P["a"])(Zt,Pt,It,!1,null,null,null),Yt=Jt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null===t.interfaceType?n("v-readonly-fallback",{staticClass:"v-readonly",attrs:{name:t.name,value:t.value,type:t.type,length:t.length,readonly:t.readonly,required:t.required,loading:t.loading,options:t.optionsWithDefaults}}):n(t.componentName,{tag:"component",staticClass:"v-readonly",attrs:{name:t.name,value:t.value,type:t.type,length:t.length,readonly:t.readonly,required:t.required,loading:t.loading,options:t.optionsWithDefaults}})},te=[],ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-readonly-fallback"},[t._v(t._s(t.value))])},ne=[],ie={name:"v-readonly-fallback",props:{value:{type:null,default:""}}},se=ie,ae=Object(P["a"])(se,ee,ne,!1,null,null,null),oe=ae.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-readonly-loading"},[t._v("LOADING")])},le=[],ce={name:"v-readonly-loading"},ue=ce,de=Object(P["a"])(ue,re,le,!1,null,null,null),fe=de.exports,he={name:"v-readonly",props:{interfaceType:{type:String,default:null},name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,required:!0},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},components:{VReadonlyFallback:oe},computed:{interfaces:function(){return this.$store.state.extensions.interfaces},interfaceInfo:function(){return this.interfaces&&this.interfaces[this.interfaceType]},componentName:function(){return"readonly-".concat(this.interfaceType)},optionsWithDefaults:function(){if(!this.interfaceInfo)return{};var t=this.$lodash.mapValues(this.interfaceInfo.options,function(t){return t.default||null});return Object(At["a"])({},t,this.options)}},watch:{id:function(){this.registerReadonly()}},created:function(){this.registerReadonly()},methods:{registerReadonly:function(){if(!gt(this.componentName))if(this.interfaceInfo){var t="".concat(this.$api.url,"/").concat(this.interfaceInfo.path.replace("meta.json","readonly.js"));d["default"].component(this.componentName,function(){return{component:vt(t),error:oe,loading:fe}})}else d["default"].component(this.componentName,oe)}}},pe=he,me=Object(P["a"])(pe,Xt,te,!1,null,null,null),ve=me.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.componentName,{tag:"component",staticClass:"v-listing",attrs:{"primary-key-field":t.primaryKeyField,fields:t.fields,items:t.items,"view-options":t.viewOptions,"view-query":t.viewQuery,loading:t.loading,"lazy-loading":t.lazyLoading,selection:t.selection,link:t.link,"listing-name":t.viewType},on:{query:function(e){t.$emit("query",e)},select:function(e){t.$emit("select",e)},options:function(e){t.$emit("options",e)},"next-page":function(e){t.$emit("next-page",e)}}})},_e=[],ye=(n("0l/t"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items&&t.columns&&t.primaryKeyField?n("v-table",{attrs:{items:t.items,columns:t.columns,primaryKeyField:t.primaryKeyField,link:"__link__","use-interfaces":!0}}):t._e()}),be=[],$e=(n("hhXQ"),{name:"listing-fallback",props:{fields:{type:Object,required:!0},items:{type:Array,required:!0},primaryKeyField:{type:String,required:!0},listingName:{type:String,default:""}},computed:{columns:function(){return Object.values(this.fields).map(function(t){return{field:t.field,name:t.name,fieldInfo:t}})}},created:function(){this.$notify.alert(this.$t("extension_error",{ext:this.listingName}))}}),ke=$e,we=Object(P["a"])(ke,ye,be,!1,null,null,null),Ce=we.exports,Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"listing-loading"})},xe=[],je={name:"listing-loading"},Se=je,Ee=Object(P["a"])(Se,Oe,xe,!1,null,null,null),Fe=Ee.exports,Ne={name:"v-listing",props:{fields:{type:Object,required:!0},items:{type:Array,required:!0},viewType:{type:String,required:!0},viewOptions:{type:Object,default:function(){return{}}},viewQuery:{type:Object,default:function(){return{}}},selection:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},lazyLoading:{type:Boolean,default:!1},link:{type:String,default:null}},computed:{listings:function(){return this.$store.state.extensions.listings},listing:function(){return this.listings&&this.listings[this.viewType]},componentName:function(){return"listing-".concat(this.viewType)},primaryKeyField:function(){var t=this.$lodash.filter(this.fields,function(t){return"primary-key"===t.interface})[0];return t&&t.field}},watch:{viewType:function(){this.registerListing()}},created:function(){this.registerListing()},methods:{registerListing:function(){if(!gt(this.componentName))if(this.listing){var t="".concat(this.$api.url,"/").concat(this.listing.path.replace("meta.json","listing.js"));d["default"].component(this.componentName,function(){return{component:vt(t),error:Ce,loading:Fe}})}else d["default"].component(this.componentName,Ce)}}},qe=Ne,Te=Object(P["a"])(qe,ge,_e,!1,null,null,null),Pe=Te.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.componentName,{tag:"component",staticClass:"listing-options-extension",attrs:{"primary-key-field":t.primaryKeyField,fields:t.fields,"view-options":t.viewOptions,loading:t.loading,"view-query":t.viewQuery,selection:t.selection,"listing-name":t.type},on:{query:function(e){t.$emit("query",e)},select:function(e){t.$emit("select",e)},options:function(e){t.$emit("options",e)}}})},Ae=[],Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"options-fallback"})},Le=[],Ve={name:"options-fallback",props:{listingName:{type:String,default:""}},created:function(){this.$notify.alert(this.$t("extension_error",{ext:this.listingName}))}},Re=Ve,De=Object(P["a"])(Re,Be,Le,!1,null,null,null),Me=De.exports,Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-listing-options-loading"})},Ke=[],ze={name:"v-listing-options-loading"},Qe=ze,We=Object(P["a"])(Qe,Ue,Ke,!1,null,null,null),Ge=We.exports,He={name:"listing-options-extension",props:{type:{type:String,required:!0},fields:{type:Object,required:!0},viewOptions:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1},viewQuery:{type:Object,default:function(){return{}}},selection:{type:Array,default:function(){return[]}}},computed:{listings:function(){return this.$store.state.extensions.listings},listing:function(){return this.listings&&this.listings[this.type]},componentName:function(){return"listing-options-".concat(this.type)},primaryKeyField:function(){if(!this.fields)return null;var t=Object.values(this.fields).filter(function(t){return!0===t.primary_key});return t.length>0&&t[0]&&t[0].field}},watch:{type:function(){this.registerListingOptions()}},created:function(){this.registerListingOptions()},methods:{registerListingOptions:function(){if(!gt(this.componentName))if(this.listing){var t="".concat(this.$api.url,"/").concat(this.listing.path.replace("meta.json","options.js"));d["default"].component(this.componentName,function(){return{component:vt(t),error:Me,loading:Ge}})}else d["default"].component(this.componentName,Me)}}},Ze=He,Je=Object(P["a"])(Ze,Ie,Ae,!1,null,null,null),Ye=Je.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.error||t.fields.error?n("v-error",{attrs:{icon:"warning",color:"danger",title:t.$t("server_error"),body:t.$t("server_error_copy")}}):t.items.fields&&0===Object.keys(t.items.fields).length?n("v-error",{attrs:{icon:"build",title:t.$t("no_fields"),body:t.$t("no_fields_body")}}):"directus_files"===t.collection&&t.items.meta&&0===t.items.meta.total_count?n("v-error",{attrs:{icon:"image",title:t.$t("no_files"),body:t.$t("no_files_body")}}):t.items.meta&&0===t.items.meta.total_count?n("v-error",{attrs:{icon:"web_asset",title:t.$t("empty_collection"),body:t.$t("empty_collection_body")}}):t.items.data&&0===t.items.data.length&&t.items.meta&&0!==t.items.meta.total_count?n("v-error",{attrs:{title:t.$t("no_results"),body:t.$t("no_results_body"),icon:"search"}}):t.fields.data&&t.items.data?n("v-listing",{attrs:{fields:t.fields.data,items:t.items.data,"view-type":t.viewType,"view-query":t.viewQuery,"view-options":t.viewOptions,selection:t.selection,loading:t.items.loading,"lazy-loading":t.items.lazyLoading,link:t.links?"__link__":null},on:{select:function(e){t.$emit("select",e)},query:function(e){t.$emit("query",e)},options:function(e){t.$emit("options",e)},"next-page":t.lazyLoad}}):t._e()},tn=[];n("rvZc"),n("KKXr"),n("91GP"),n("dRSK");function en(t){var e={};return t.forEach(function(t){e["filter[".concat(t.field,"][").concat(t.operator,"]")]=t.value}),e}var nn={name:"v-item-listing",props:{collection:{type:String,required:!0},filters:{type:Array,default:function(){return[]}},searchQuery:{type:String,default:""},viewType:{type:String,default:"tabular"},viewOptions:{type:Object,default:function(){return{}}},viewQuery:{type:Object,default:function(){return{}}},selection:{type:Array,default:null},links:{type:Boolean,default:!1}},data:function(){return{fields:{data:null,loading:!1,error:null},items:{meta:null,data:null,loading:!1,error:null,page:0,lazyLoading:!1}}},computed:{primaryKeyField:function(){return this.fields.data?this.$lodash.find(this.fields.data,{interface:"primary-key"}).field:null}},created:function(){this.hydrate()},watch:{collection:function(t,e){this.$lodash.isEqual(t,e)||this.hydrate()},viewQuery:{deep:!0,handler:function(t,e){this.$lodash.isEqual(t,e)||this.getItems()}},filters:{deep:!0,handler:function(t,e){this.$lodash.isEqual(t,e)||this.getItems()}},searchQuery:function(t,e){this.$lodash.isEqual(t,e)||this.getItems()}},methods:{hydrate:function(){var t=this;this.fields.loading&&this.items.loading||(this.fields.data=null,this.fields.loading=!1,this.fields.error=null,this.items.data=null,this.items.loading=!1,this.items.error=null,this.getFields().then(function(){return t.getItems()}))},getFields:function(){var t=this;if(!this.fields.loading){this.fields.loading=!0,this.fields.error=null;var e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),this.$api.getFields(this.collection).then(function(t){return t.data}).then(function(n){t.fields.loading=!1;var i=t.$lodash.keyBy(n,"field");t.fields.data=t.$lodash.mapValues(i,function(e){return Object(At["a"])({},e,{name:t.$helpers.formatTitle(e.field)})}),t.$store.dispatch("loadingFinished",e)}).catch(function(n){t.fields.loading=!1,t.fields.error=n,t.$store.dispatch("loadingFinished",e)})}},getItems:function(){var t=this;if(!this.items.loading){this.items.loading=!0,this.items.error=null,this.items.page=0;var e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),this.$api.getItems(this.collection,this.formatParams()).then(function(n){t.items.loading=!1,t.items.meta=n.meta,t.$store.dispatch("loadingFinished",e),t.links?t.items.data=n.data.map(function(e){return Object(At["a"])({},e,{__link__:"/collections/".concat(t.collection,"/").concat(e[t.primaryKeyField])})}):t.items.data=n.data,t.$emit("fetch",n.meta)}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.items.loading=!1,t.items.error=n})}},lazyLoad:function(){var t=this;if(!this.items.lazyLoading&&this.items.meta.total_count!==this.items.data.length)return this.items.lazyLoading=!0,this.items.error=null,this.items.page=this.items.page+1,this.$api.getItems(this.collection,this.formatParams()).then(function(e){t.items.lazyLoading=!1,t.links?t.items.data=Object(ct["a"])(t.items.data).concat(Object(ct["a"])(e.data.map(function(e){return Object(At["a"])({},e,{__link__:"/collections/".concat(t.collection,"/").concat(e[t.primaryKeyField])})}))):t.items.data=Object(ct["a"])(t.items.data).concat(Object(ct["a"])(e.data)),t.$emit("fetch",e.meta)}).catch(function(e){t.items.lazyLoading=!1,t.items.error=e})},formatParams:function(){var t={fields:"*.*",meta:"total_count,result_count",limit:50,offset:50*this.items.page};return Object.assign(t,this.viewQuery),this.searchQuery&&(t.q=this.searchQuery),this.filters&&this.filters.length>0&&(t=Object(At["a"])({},t,en(this.filters))),t.fields&&(t.fields=t.fields.split(",").map(function(t){return t.endsWith(".*")?t:"".concat(t,".*")}),!1===t.fields.includes(this.primaryKeyField)&&t.fields.push(this.primaryKeyField)),t}}},sn=nn,an=Object(P["a"])(sn,Xe,tn,!1,null,null,null),on=an.exports,rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"form-button style-btn",class:[t.bg||"no-bg",{fullwidth:t.fullwidth,loading:t.loading},t.color],attrs:{type:t.type,disabled:t.disabled||t.loading},on:{click:function(e){t.$emit("click")}}},[t.icon&&!t.loading?n("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]):t._e(),t.loading?n("v-spinner",{staticClass:"spinner",attrs:{"line-size":2,size:"13","line-foreground-color":"#fff","line-background-color":"var(--accent)"}}):t._e(),t._t("default")],2)},ln=[],cn={name:"v-button",props:{fullwidth:{type:Boolean,default:!1},icon:{type:String,default:""},type:{type:String,default:""},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String,default:"white",validator:function(t){return["white","black"].includes(t)}},bg:{type:String,default:"action",validator:function(t){return["action","secondary","warning","danger"].includes(t)}}}},un=cn,dn=(n("y1Qw"),Object(P["a"])(un,rn,ln,!1,null,"657e3c43",null)),fn=dn.exports,hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"form-checkbox"},[n("input",{attrs:{id:t.id,type:"checkbox"},domProps:{checked:t.shouldBeChecked,value:t.value},on:{change:t.updateInput}}),n("label",{staticClass:"no-wrap",attrs:{for:t.id}},[n("i",{staticClass:"material-icons"},[t._v(t._s(t.shouldBeChecked?"check_box":"check_box_outline_blank"))]),t._v("\n    "+t._s(t.label)+"\n  ")])])},pn=[],mn={name:"form-checkbox",model:{prop:"modelValue",event:"change"},props:{id:{type:String,default:""},value:{type:[String,Number],required:!0},modelValue:{type:null,default:!1},label:{type:String,default:""},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},checked:{type:Boolean,default:!1}},computed:{shouldBeChecked:function(){return Array.isArray(this.modelValue)?this.modelValue.includes(this.value):this.modelValue===this.trueValue||!0===this.checked}},methods:{updateInput:function(t){var e=t.target.checked;if(Array.isArray(this.modelValue)){var n=Object(ct["a"])(this.modelValue);e?n.push(this.value):n.splice(n.indexOf(this.value),1),this.$emit("change",n)}else this.$emit("change",e?this.trueValue:this.falseValue)}}},vn=mn,gn=(n("0ZH7"),Object(P["a"])(vn,hn,pn,!1,null,"91116774",null)),_n=gn.exports,yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-input",class:{"icon-left":t.iconLeft,"icon-right":t.iconRight}},[t.iconLeft?n("i",{staticClass:"material-icons",class:t.iconLeftColor},[t._v(t._s(t.iconLeft))]):t._e(),n("input",{ref:"input",class:{charactercount:t.charactercount},attrs:{type:t.type,autocomplete:t.autocomplete,max:t.max,maxlength:t.maxlength,min:t.min,minlength:t.minlength,name:t.name,placeholder:t.placeholder,readonly:t.readonly,required:t.required,disabled:t.disabled,spellcheck:t.spellcheck,id:t.id},domProps:{value:t.value},on:{keyup:function(e){t.$emit("keyup",e)},keydown:function(e){t.$emit("keydown",e)},input:function(e){t.$emit("input",e.target.value)}}}),t.iconRight?n("i",{staticClass:"material-icons",class:t.iconRightColor},[t._v(t._s(t.iconRight))]):t._e(),t.charactercount?n("span",[t._v(t._s(t.charsRemaining))]):t._e()])},bn=[],$n={name:"v-input",props:{type:{type:String,default:"text"},autocomplete:{type:String,default:"on"},autofocus:{type:Boolean,default:!1},max:{type:[Number,Boolean],default:!1},maxlength:{type:[Number,Boolean],default:!1},min:{type:[Number,Boolean],default:!1},minlength:{type:[Number,Boolean],default:!1},name:{type:String,default:""},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!0},id:{type:String,default:""},value:{type:null,default:""},iconLeft:{type:String,default:""},iconLeftColor:{type:String,default:null,validator:function(t){return["accent","secondary","success","warning","danger"].includes(t)}},iconRight:{type:String,default:""},iconRightColor:{type:String,default:"accent",validator:function(t){return["accent","secondary","success","warning","danger"].includes(t)}},valid:{type:Boolean,default:!0},charactercount:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{charsRemaining:function(){return this.maxlength-this.value.length}},mounted:function(){this.autofocus&&this.$refs.input.focus()}},kn=$n,wn=(n("lGIB"),Object(P["a"])(kn,yn,bn,!1,null,"ce3feb02",null)),Cn=wn.exports,On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-radio"},[n("input",{attrs:{id:t.id,name:t.name,type:"radio"},domProps:{checked:t.shouldBeChecked,value:t.value},on:{change:t.updateInput}}),n("label",{attrs:{for:t.id}},[t._v(t._s(t.label))])])},xn=[],jn={model:{prop:"modelValue",event:"change"},props:{name:{type:String,required:!0},id:{type:String,required:!0},value:{type:String,required:!0},modelValue:{type:String,default:""},label:{type:String,required:!0}},computed:{shouldBeChecked:function(){return this.modelValue===this.value}},methods:{updateInput:function(){this.$emit("change",this.value)}}},Sn=jn,En=(n("/TgB"),Object(P["a"])(Sn,On,xn,!1,null,"fe4ff0ec",null)),Fn=En.exports,Nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-select",class:{icon:t.icon}},[t.other?n("select",{attrs:{id:t.otherActive?null:t.id},domProps:{value:t.value},on:{change:function(e){t.change(e.target.value)}}},[n("optgroup",{attrs:{label:t.$t("values")}},t._l(t.parsedOptions,function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v(t._s(e))])})),n("optgroup",{attrs:{label:t.$t("other")}},[n("option",{domProps:{value:t.customValue||"__other",selected:t.otherActive}},[t._v(t._s(t.customValue.length?t.customValue:t.$t("enter_value")))])])]):n("select",{ref:"select",attrs:{id:t.otherActive?null:t.id},domProps:{value:t.value},on:{change:function(e){t.change(e.target.value)}}},[t.placeholder?n("option",{ref:"default",attrs:{selected:"",disabled:"",value:""}},[t._v("\n      "+t._s(t.placeholder)+"\n    ")]):t._e(),t._l(t.parsedOptions,function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v(t._s(e))])})],2),t.otherActive?n("input",{ref:"input",attrs:{type:t.type,id:t.id,placeholder:t.placeholder,autofocus:""},domProps:{value:t.customValue},on:{input:t.changeCustom}}):t._e(),n("div",{staticClass:"value"},[t.icon?n("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]):t._e(),t.placeholder&&!t.value?n("span",{staticClass:"placeholder"},[t._v(t._s(t.placeholder))]):t._e(),t._v("\n    "+t._s(t.parsedOptions[t.value])+"\n  ")]),n("i",{staticClass:"material-icons chevron"},[t._v("arrow_drop_down")])])},qn=[],Tn={name:"v-select",props:{disabled:{type:Boolean,default:!1},name:{type:String,default:""},id:{type:String,default:""},value:{type:String,default:""},other:{type:Boolean,default:!1},icon:{type:String,default:""},type:{type:String,default:""},options:{type:[Object,String],required:!0},placeholder:{type:String,default:""},defaultValue:{type:Boolean,default:!1}},data:function(){return{otherActive:!1,customValue:""}},computed:{parsedOptions:function(){return"string"===typeof this.options?JSON.parse(this.options):this.options}},methods:{change:function(t){if(t===this.customValue||"__other"===t)return this.$emit("input",this.customValue),void(this.otherActive=!0);this.otherActive=!1,this.$emit("input",t),!0===this.defaultValue&&(this.$refs.default.setAttribute("selected","selected"),this.$refs.select.value="")},changeCustom:function(t){this.customValue=t.target.value,this.$emit("input",this.customValue)}}},Pn=Tn,In=(n("pkGk"),Object(P["a"])(Pn,Nn,qn,!1,null,"5c6cce56",null)),An=In.exports,Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-simple-select"},[n("select",{domProps:{value:t.value},on:{change:function(e){t.$emit("input",e.target.value)}}},[n("option",{attrs:{disabled:"",selected:"value == null",value:""}},[t._v(t._s(t.placeholder||"--"))]),t._t("default")],2),n("div",{staticClass:"preview"},[t.value?[t._v(t._s(t.value))]:n("span",{staticClass:"placeholder"},[t._v(t._s(t.placeholder||"--"))]),n("i",{staticClass:"material-icons"},[t._v("arrow_drop_down")])],2)])},Ln=[],Vn={name:"v-simple-select",props:{value:{type:String,default:null},placeholder:{type:String,default:null}}},Rn=Vn,Dn=(n("YxtN"),Object(P["a"])(Rn,Bn,Ln,!1,null,"1de86f0f",null)),Mn=Dn.exports,Un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-slider"},[n("div",{staticClass:"input"},[n("input",{attrs:{id:t.id,name:t.id,min:t.min,max:t.max,step:t.step,type:"range"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",Number(e.target.value))}}}),n("div",{ref:"track",staticClass:"track-wrapper"},[n("div",{staticClass:"track-fill",style:{transform:"scaleX("+t.progress+")"}})])]),n("output",{class:{"output-shown":t.alwaysShowOutput},attrs:{for:t.id}},[t._v(t._s(t.valueOrDefault)+" "+t._s(t.unit))])])},Kn=[],zn={name:"v-slider",props:{id:{type:String,default:null},value:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,required:!0},step:{type:[Number,String],default:1},unit:{type:String,default:null},alwaysShowOutput:{type:Boolean,default:!1}},data:function(){return{valuePos:0}},computed:{valueOrDefault:function(){return null==this.value?(this.max-this.min)/2:this.value},progress:function(){return Math.round(this.valueOrDefault/(this.max-this.min)*100)/100}}},Qn=zn,Wn=(n("4OmM"),Object(P["a"])(Qn,Un,Kn,!1,null,"32fc1b20",null)),Gn=Wn.exports,Hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{staticClass:"v-textarea",attrs:{cols:t.cols,disabled:t.disabled,maxlength:t.maxlength,minlength:t.minlength,name:t.name,id:t.id,placeholder:t.placeholder,readonly:t.readonly,required:t.required,rows:t.rows,spellcheck:t.spellcheck,wrap:t.wrap},domProps:{value:t.value},on:{keydown:function(e){t.$emit("keydown",e.target.value)},input:function(e){t.$emit("input",e.target.value)}}})},Zn=[],Jn={name:"v-textarea",props:{cols:{type:Number,default:20},disabled:{type:Boolean,default:!1},maxlength:{type:Number,default:null},minlength:{type:Number,default:null},name:{type:String,default:null},id:{type:String,default:null},placeholder:{type:String,default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},rows:{type:Number,default:null},spellcheck:{type:Boolean,default:null},wrap:{type:String,default:null},value:{type:String,default:null}}},Yn=Jn,Xn=(n("Ib3T"),Object(P["a"])(Yn,Hn,Zn,!1,null,"00dbb12e",null)),ti=Xn.exports,ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-toggle"},[n("input",{attrs:{type:"checkbox",id:t.id,disabled:t.disabled},domProps:{checked:t.value},on:{change:function(e){t.$emit("input",e.target.checked)}}}),n("div",{staticClass:"switch-track",class:{active:t.value}}),n("div",{staticClass:"switch-thumb",class:{active:t.value}})])},ni=[],ii={name:"v-toggle",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:null}}},si=ii,ai=(n("Pjka"),Object(P["a"])(si,ei,ni,!1,null,"35b0383c",null)),oi=ai.exports,ri=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-modal-base",{attrs:{message:t.message},on:{cancel:function(e){t.$emit("confirm")}}},[n("div",{staticClass:"buttons",on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.$emit("confirm")}}},[n("v-button",{staticClass:"confirm",on:{click:function(e){t.$emit("confirm")}}},[t._v(t._s(t.confirmText||t.$t("ok")))])],1)])},li=[],ci=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"v-modal-base"},[n("div",{staticClass:"mask",on:{click:function(e){t.$emit("cancel")}}}),n("div",{staticClass:"wrapper"},[n("aside",{staticClass:"modal"},[n("focus-lock",[n("p",[t._v(t._s(t.message))]),t._t("default")],2)],1)])])])},ui=[],di=n("Fsuy"),fi=n("XfdA"),hi=n.n(fi),pi={name:"v-modal-base",components:{FocusLock:hi.a},props:{message:{type:String,required:!0}},mounted:function(){Object(di["disableBodyScroll"])(this.$refs.modal)},beforeDestroy:function(){Object(di["enableBodyScroll"])(this.$refs.modal)}},mi=pi,vi=(n("nMmZ"),Object(P["a"])(mi,ci,ui,!1,null,"2c3a4088",null)),gi=vi.exports,_i={name:"v-alert",props:{message:{type:String,required:!0},confirmText:{type:String,default:null}},components:{VModalBase:gi}},yi=_i,bi=(n("f2LX"),Object(P["a"])(yi,ri,li,!1,null,"3e550904",null)),$i=bi.exports,ki=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-modal-base",{attrs:{message:t.message},on:{cancel:function(e){t.$emit("cancel")}}},[n("div",{staticClass:"buttons",on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.$emit("cancel")}}},[n("button",{staticClass:"cancel",on:{click:function(e){t.$emit("cancel")}}},[t._v(t._s(t.cancelText||t.$t("cancel")))]),n("v-button",{staticClass:"confirm",attrs:{bg:t.color},on:{click:function(e){t.$emit("confirm")}}},[t.loading?[n("v-spinner",{attrs:{size:20,"line-size":2}})]:[t._v(t._s(t.confirmText||t.$t("ok")))]],2)],1)])},wi=[],Ci={name:"v-confirm",props:{message:{type:String,required:!0},confirmText:{type:String,default:null},cancelText:{type:String,default:null},loading:{type:Boolean,default:!1},color:{type:String,default:"action"}},components:{VModalBase:gi}},Oi=Ci,xi=(n("vad+"),Object(P["a"])(Oi,ki,wi,!1,null,"fcd86de2",null)),ji=xi.exports,Si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{staticClass:"v-modal"},[n("div",{staticClass:"modal-mask",class:t.actionRequired?null:"pointer",on:{click:function(e){!t.actionRequired&&t.$emit("close")}}}),n("div",{staticClass:"modal-wrapper"},[n("aside",{ref:"modal",staticClass:"modal-container",attrs:{"aria-labelledby":"modal-title","aria-describedby":"modal-description",role:"dialog"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;!t.actionRequired&&t.$emit("close")}}},[n("focus-lock",[n("div",{attrs:{role:"document"}},[n("div",{staticClass:"screen-reader-offscreen",attrs:{id:"modal-description"}},[t._v("\n              "+t._s(t.$t("dialog_beginning"))+" "+t._s(t.actionRequired?null:t.$t("esc_cancel"))+"\n            ")]),n("header",[n("h1",{staticClass:"style-1",attrs:{id:"modal-title"}},[t._v(t._s(t.title))]),t.actionRequired?t._e():n("button",{on:{click:function(e){t.$emit("close")}}},[n("i",{staticClass:"material-icons"},[t._v("close")])])]),n("div",{staticClass:"body"},[t._t("default")],2),n("div",{staticClass:"footer"},[t.actionRequired?t._e():n("button",{on:{click:function(e){t.$emit("close")}}},[t._v(t._s(t.$t("cancel")))]),t._l(t.buttons,function(e,i){return n("v-button",{key:i,staticClass:"confirm",attrs:{loading:e.loading||!1,disabled:e.disabled||!1},on:{click:function(e){t.$emit(i)}}},[t._v(t._s(e.text))])})],2)])])],1)])])])},Ei=[],Fi={name:"v-modal",components:{FocusLock:hi.a},props:{actionRequired:{type:Boolean,default:!1},title:{type:String,required:!0},buttons:{type:[Object],default:function(){return{}}}},mounted:function(){Object(di["disableBodyScroll"])(this.$refs.modal)},beforeDestroy:function(){Object(di["enableBodyScroll"])(this.$refs.modal)}},Ni=Fi,qi=(n("kLmT"),Object(P["a"])(Ni,Si,Ei,!1,null,"507a4678",null)),Ti=qi.exports,Pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-modal-base",{attrs:{message:t.message},on:{cancel:function(e){t.$emit("cancel")}}},[n("div",{staticClass:"v-prompt",on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.$emit("cancel")}}},[t.multiline?n("v-textarea",{staticClass:"input multiline",attrs:{placeholder:t.placeholder,value:t.value},on:{input:function(e){t.$emit("input",e)}}}):n("v-input",{staticClass:"input",attrs:{value:t.value,placeholder:t.placeholder},on:{input:t.emitValue,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$emit("confirm")}}}),n("div",{staticClass:"buttons"},[n("button",{staticClass:"cancel",on:{click:function(e){t.$emit("cancel")}}},[t._v(t._s(t.cancelText||t.$t("cancel")))]),n("v-button",{staticClass:"confirm",attrs:{loading:t.loading,disabled:t.required&&t.disabled},on:{click:function(e){t.$emit("confirm")}}},[t._v(t._s(t.confirmText||t.$t("ok")))])],1)],1)])},Ii=[],Ai=(n("a1Th"),n("h7Nl"),{name:"v-prompt",props:{message:{type:String,required:!0},confirmText:{type:String,default:null},cancelText:{type:String,default:null},value:{type:String,default:null},multiline:{type:Boolean,default:!1},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},loading:{type:Boolean,default:!1},safe:{type:Boolean,default:!1}},components:{VModalBase:gi},computed:{disabled:function(){return null==this.value||0===this.value.length}},methods:{emitValue:function(t){this.safe&&(t=t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w_]+/g,"").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"")),this.$emit("input",t)}}}),Bi=Ai,Li=(n("mU85"),Object(P["a"])(Bi,Pi,Ii,!1,null,"62d444e8",null)),Vi=Li.exports,Ri=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"v-header-bar"},[n("button",{staticClass:"nav-toggle",attrs:{disabled:t.navActive},on:{click:t.activateNav}},[n("i",{staticClass:"material-icons"},[t._v("menu")])]),n("div",{staticClass:"title"},[t.title?n("h1",[t._v(t._s(t.title))]):n("ol",{staticClass:"breadcrumb"},t._l(t.breadcrumb||t.defaultBreadcrumb,function(e,i){var s=e.name,a=e.path,o=e.color;return void 0===o&&(o=null),n("li",{key:a},[i!==(t.breadcrumb||t.defaultBreadcrumb).length-1?[n("router-link",{style:{color:o?"var(--"+o+")":null},attrs:{to:a}},[t._v(t._s(s))])]:n("h1",{style:{color:o?"var(--"+o+")":null}},[t._v(t._s(s))])],2)})),t._t("title")],2),t._t("default"),t.infoToggle?n("v-header-button",{attrs:{label:t.$t("info"),icon:"info","no-background":""},on:{click:t.toggleInfo}}):t._e(),t._t("buttons")],2)},Di=[],Mi="🔒 Login Pending",Ui="🔒✅ Login Successful",Ki="🔒❌ Login Failed",zi="🔒 Logout",Qi="🔒 Refresh Token",Wi="🔒 Remove Auth Error",Gi="🔖 Set Bookmarks",Hi="🔖 Add Bookmark",Zi="🔖 Delete Bookmark",Ji="🗄 Set Collections",Yi="🗄 Add Collection",Xi="🗄 Remove Collection",ts="🗄 Update Collection",es="📝 Discard Changes",ns="📝 Item Saved",is="📝 Start Editing",ss="📝 Unstage Value",as="📝 Stage Value",os="📦 Set Interfaces",rs="📦 Set Listings",ls="📦 Set Pages",cs="📌 Set Fields",us="🏪 Store Hydrated",ds="🏪❌ Store Hydration Failed",fs="⏱ Latency Check",hs="⏳ Queue Request",ps="⏳ Remove Request from Queue",ms="👨🏻‍💻✅ Set Current User",vs="👨🏻‍💻 Current User Updated",gs="⚙️ Set Global Settings",_s="🎨 Toggle Nav Sidebar",ys="🎨 Toggle Info Sidebar",bs={name:"v-header-bar",props:{title:{type:String,default:null},breadcrumb:{type:Array,default:null},infoToggle:{type:Boolean,default:!1}},computed:{defaultBreadcrumb:function(){var t=this,e=this.$route.path.split("/").filter(function(t){return t});return e.map(function(n,i){for(var s="",a=0;a<i;a++)s+="/".concat(e[a]);return s+="/".concat(n),{name:t.$helpers.formatTitle(n),path:s}})},navActive:function(){return this.$store.state.sidebars.nav}},methods:{activateNav:function(){this.$store.commit(_s,!0)},toggleInfo:function(){this.$store.commit(ys)}}},$s=bs,ks=(n("LstB"),n("hyf0"),Object(P["a"])($s,Ri,Di,!1,null,"201aa0e2",null)),ws=ks.exports,Cs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-header-button"},[Object.keys(t.options).length>0?n("div",{staticClass:"options"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.choice,expression:"choice"}],attrs:{disabled:t.disabled},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.choice=e.target.multiple?n:n[0]},t.emitChange]}},[n("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("\n        "+t._s(t.$t("more_options"))+"\n      ")]),t._l(t.options,function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v("\n        "+t._s(e)+"\n      ")])})],2),n("i",{staticClass:"material-icons"},[t._v("more_horiz")])]):t._e(),n(t.to?"router-link":"button",{tag:"component",class:{attention:t.alert,"no-bg":t.noBackground},style:{backgroundColor:t.noBackground||t.disabled?null:"var(--"+t.color+")",color:"var(--"+t.color+")"},attrs:{disabled:t.disabled,to:t.to||null},on:{click:function(e){!t.to&&t.$emit("click",e)}}},[t.loading?n("v-spinner",{attrs:{size:24,"line-fg-color":"white","line-bg-color":"transparent"}}):n("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]),t.label?n("span",{staticClass:"style-btn"},[t._v(t._s(t.label))]):t._e()],1)],1)},Os=[],xs=(n("Tze0"),{name:"v-header-button",props:{icon:{type:String,required:!0},color:{type:String,default:"accent",validator:function(t){return""!==getComputedStyle(document.body).getPropertyValue("--".concat(t)).trim()}},label:{type:String,default:null},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},alert:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},to:{type:String,default:null}},data:function(){return{choice:null}},methods:{emitChange:function(t){this.$emit("input",t.target.value),this.choice=null}}}),js=xs,Ss=(n("680A"),Object(P["a"])(js,Cs,Os,!1,null,"4a549648",null)),Es=Ss.exports,Fs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-blocker",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],attrs:{"z-index":9},on:{click:t.disableSidebar}}),n("transition",{attrs:{name:"info"}},[n("aside",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"info-sidebar",class:{wide:t.wide}},[n("div",{staticClass:"system"},[t._t("system")],2),t._t("default")],2)])],1)},Ns=[],qs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"blocker",style:{zIndex:t.zIndex},on:{click:function(e){t.$emit("click")},touchend:function(e){t.$emit("click")}}})])},Ts=[],Ps={name:"blocker",props:{zIndex:{type:Number,default:0}}},Is=Ps,As=(n("TlLQ"),Object(P["a"])(Is,qs,Ts,!1,null,"e96f9bae",null)),Bs=As.exports,Ls={name:"info-sidebar",components:{VBlocker:Bs},props:{wide:{type:Boolean,default:!1}},computed:{active:function(){return this.$store.state.sidebars.info}},methods:{disableSidebar:function(){this.$store.commit(ys,!1)}}},Vs=Ls,Rs=(n("L/B1"),Object(P["a"])(Vs,Fs,Ns,!1,null,"84994044",null)),Ds=Rs.exports,Ms=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"error"}},[n("div",{staticClass:"v-error"},[n("i",{staticClass:"material-icons",class:t.color},[t._v(t._s(t.icon))]),n("h2",{staticClass:"style-1"},[t._v(t._s(t.title))]),n("p",[t._v(t._s(t.body))])])])},Us=[],Ks={name:"v-error",props:{color:{type:String,default:"accent",validator:function(t){return["accent","secondary","success","warning","danger"].includes(t)}},icon:{type:String,required:!0},title:{type:String,required:!0},body:{type:String,required:!0}}},zs=Ks,Qs=(n("gkTH"),Object(P["a"])(zs,Ms,Us,!1,null,"be0a879c",null)),Ws=Qs.exports;function Gs(t){t.key&&"tab"===t.key.toLowerCase()&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",Gs),window.addEventListener("mousedown",Hs))}function Hs(){document.body.classList.remove("user-is-tabbing"),window.removeEventListener("mousedown",Hs),window.addEventListener("keydown",Gs)}d["default"].component("v-page",Tt),d["default"].component("v-interface",Yt),d["default"].component("v-readonly",ve),d["default"].component("v-listing",Pe),d["default"].component("v-listing-options",Ye),d["default"].component("v-item-listing",on),d["default"].component("v-button",fn),d["default"].component("v-checkbox",_n),d["default"].component("v-input",Cn),d["default"].component("v-radio",Fn),d["default"].component("v-select",An),d["default"].component("v-simple-select",Mn),d["default"].component("v-slider",Gn),d["default"].component("v-textarea",ti),d["default"].component("v-toggle",oi),d["default"].component("v-alert",$i),d["default"].component("v-confirm",ji),d["default"].component("v-modal",Ti),d["default"].component("v-prompt",Vi),d["default"].component("v-header-bar",ws),d["default"].component("v-header-button",Es),d["default"].component("v-info-sidebar",Ds),d["default"].component("v-error",Ws),d["default"].component("invisible-label",A),d["default"].component("loader",M),d["default"].component("v-spinner",E.a),d["default"].component("v-avatar",G),d["default"].component("v-card",tt),d["default"].component("v-details",ot),d["default"].component("v-table",ht),window.addEventListener("keydown",Gs);var Zs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hydratingError?n("div",{staticClass:"error"},[n("v-error",{attrs:{icon:"warning",title:t.$t("server_error"),body:t.$t("server_error_copy"),color:"danger"}}),n("p",[t._v("Try again later or "),n("router-link",{attrs:{to:"/logout"}},[t._v("login to another instance")]),t._v(".")],1)],1):t.publicRoute?n("router-view",{staticClass:"directus"}):n("div",[t.hydrated?n("div",{staticClass:"directus"},[n("v-nav-sidebar"),n("router-view",{staticClass:"page-root"})],1):n("loader",{attrs:{area:"full-page"}}),n("portal-target",{attrs:{name:"modal"}})],1)},Js=[],Ys=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-sidebar"},[n("v-blocker",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"blocker",on:{click:t.disableNav}}),n("transition",{attrs:{name:"nav"}},[n("aside",{class:{active:t.active}},[n("button",{staticClass:"a11y-close",on:{click:t.disableNav}},[t._v("Close nav")]),n("v-logo",{staticClass:"logo"}),n("section",{staticClass:"content"},[n("project-switcher"),n("nav-menu",{attrs:{title:t.$t("collections"),links:t.collectionNames.map(function(e){return{path:"/collections/"+e,name:t.$t("collections-"+e)}})}}),t.extensions?n("nav-menu",{attrs:{title:t.$t("extensions"),links:t.extensions}}):t._e(),n("nav-bookmarks",{attrs:{bookmarks:t.bookmarks,"no-border":""}})],1),n("user-menu")],1)])],1)},Xs=[],ta=(n("9VmF"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-logo"},[t.customLogoExists?n("img",{attrs:{src:t.customLogoPath,alt:t.projectName}}):n("div",{staticClass:"logo",class:{running:t.running},on:{animationiteration:t.checkRunning}})])}),ea=[],na={name:"v-logo",data:function(){return{customLogoPath:"",running:!1}},computed:{customLogoExists:function(){return Boolean(this.$store.state.settings.logo)},projectName:function(){return this.$store.state.auth.projectName},queueContainsItems:function(){return 0!==this.$store.state.queue.length}},watch:{queueContainsItems:function(t){!0===t&&(this.running=!0)}},created:function(){var t=this;if(this.customLogoExists){var e=this.$store.state.settings.logo;this.$api.getItem("directus_files",e).then(function(t){return t.data.storage.full_url}).then(function(e){return t.customLogoPath=e}).catch(function(e){t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})}},methods:{checkRunning:function(){!1===this.queueContainsItems&&(this.running=!1)}}},ia=na,sa=(n("RqIC"),Object(P["a"])(ia,ta,ea,!1,null,"71e88c18",null)),aa=sa.exports,oa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-switcher"},[t.active?n("portal",{attrs:{to:"modal"}},[n("v-modal",{attrs:{title:t.$t("change_project")},on:{close:function(e){t.active=!1}}},[n("login-form",{staticClass:"form"})],1)],1):t._e(),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:t.$store.state.auth.url+"<br>"+t.$t("latency")+": "+t.$n(Math.round(t.$store.state.latency[t.$store.state.latency.length-1].latency))+"ms",boundariesElement:"body"},expression:"{\n      content: $store.state.auth.url + `<br>${$t('latency')}: ${$n(Math.round($store.state.latency[$store.state.latency.length - 1].latency))}ms`,\n      boundariesElement: 'body'\n    }",modifiers:{left:!0}}],on:{click:function(e){t.active=!0}}},[n("v-signal",{staticClass:"icon"}),n("span",{staticClass:"no-wrap"},[t._v(t._s(t.$store.state.auth.projectName))]),n("i",{staticClass:"material-icons chevron"},[t._v("arrow_drop_down")])],1)],1)},ra=[],la=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[0===t.strength?n("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 26 24"}},[n("path",{attrs:{"fill-opacity":".3",d:"M24.24 8l1.35-1.68C25.1 5.96 20.26 2 13 2S.9 5.96.42 6.32l12.57 15.66.01.02.01-.01L20 13.28V8h4.24z"}}),n("path",{attrs:{d:"M22 22h2v-2h-2v2zm0-12v8h2v-8h-2z"}})]):1===t.strength?n("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[n("path",{attrs:{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),n("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}}),n("path",{attrs:{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"}})]):2===t.strength?n("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[n("path",{attrs:{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),n("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}}),n("path",{attrs:{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"}})]):3===t.strength?n("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[n("path",{attrs:{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),n("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}}),n("path",{attrs:{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"}})]):4===t.strength?n("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),n("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}})]):t._e()])},ca=[],ua={name:"v-signal",computed:{strength:function(){return this.$store.getters.signalStrength}}},da=ua,fa=(n("thAx"),Object(P["a"])(da,la,ca,!1,null,"008e63f1",null)),ha=fa.exports,pa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-form"},[t.reset?n("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassword(e)}}},[n("invisible-label",{attrs:{"html-for":"email"}},[t._v(t._s(t.$t("email_address")))]),n("v-input",{staticClass:"input",attrs:{id:"email",placeholder:t.$t("email"),"icon-left":"person",type:"email",name:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-button",{attrs:{fullwidth:!0,loading:t.resetLoading,disabled:t.resetButtonDisabled,type:"submit"}},[t._v(t._s(t.$t("reset_password")))]),n("button",{staticClass:"toggle-reset",on:{click:function(e){e.preventDefault(),t.reset=!1}}},[t._v(t._s(t.$t("login")))])],1):n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[0===t.apiUrls.length?n("div",[n("invisible-label",{attrs:{"html-for":"url"}},[t._v(t._s(t.$t("api_url")))]),n("v-input",{staticClass:"input",attrs:{id:"url",placeholder:t.$t("api_url"),"icon-left":"cloud",type:"url",name:"url"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1):t._e(),n("div",[1===t.apiUrls.length&&!0===t.allowOther||t.apiUrls.length>1?n("v-select",{staticClass:"input",attrs:{id:"url",placeholder:t.$t("api_url"),other:t.allowOther,options:t.apiConfig,custom:t.allowOther,icon:"cloud",type:"url"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}):t._e()],1),n("invisible-label",{attrs:{"html-for":"email"}},[t._v(t._s(t.$t("email_address")))]),n("v-input",{staticClass:"input",attrs:{id:"email",placeholder:t.$t("email"),"icon-left":"person",type:"email",name:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("invisible-label",{attrs:{"html-for":"password"}},[t._v(t._s(t.$t("password")))]),n("v-input",{staticClass:"input",attrs:{id:"password",placeholder:t.$t("password"),"icon-left":"lock",type:"password",name:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-button",{attrs:{fullwidth:!0,disabled:t.disabled,loading:t.loading,type:"submit"}},[t._v(t._s(t.$t("login")))]),n("button",{staticClass:"toggle-reset",on:{click:function(e){e.preventDefault(),t.reset=!0}}},[t._v(t._s(t.$t("forgot_password")))])],1),n("nav",[n("transition-group",{staticClass:"third-party-auth",attrs:{name:"list",tag:"ul"}},t._l(t.thirdPartyAuthProviders,function(e){return n("li",{key:e.name},[n("a",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$helpers.formatTitle(e.name),expression:"$helpers.formatTitle(provider.name)",modifiers:{bottom:!0}}],attrs:{href:t.url+"/_/auth/sso/"+e.name}},[n("img",{attrs:{alt:e.name,src:e.icon}})])])}))],1)])},ma=[],va=n("+8Jd"),ga=n.n(va),_a={name:"login-form",data:function(){return{loading:!1,exists:null,checkingExistence:!1,thirdPartyAuthProviders:[],gettingThirdPartyAuthProviders:!1,email:"",password:"",url:null,reset:!1,resetLoading:!1}},computed:{disabled:function(){return!(this.email.length&&this.password.length&&this.url.length)},resetButtonDisabled:function(){return 0===this.email.length},apiConfig:function(){return window.__DirectusConfig__.api},apiUrls:function(){return Object.values(this.apiConfig)},allowOther:function(){return window.__DirectusConfig__.allowOtherAPI}},watch:{url:function(){this.exists=null,this.checkUrl()},exists:function(t,e){!0===t&&t!==e&&this.getThirdPartyAuthProviders()},$route:function(){this.trySSOLogin()}},created:function(){this.checkUrl=this.$lodash.debounce(this.checkUrl,300),this.url&&this.checkUrl();var t=this.$store.state.auth.url;this.url=t||Object.keys(window.__DirectusConfig__.api)[0]||"",this.trySSOLogin()},methods:{login:function(){var t=this,e=this.email,n=this.password,i=this.url,s={email:e,password:n,url:i};this.loading=!0,this.$store.dispatch("login",s).then(function(){t.enterApp()}).catch(function(){t.loading=!1})},enterApp:function(){var t=this;if(this.$route.query.redirect)return this.loading=!1,this.$router.push(this.$route.query.redirect);this.$api.getMe({fields:"last_page"}).then(function(t){return t.data.last_page}).then(function(e){t.loading=!1,t.$router.push(e||"/")}).catch(function(e){t.loading=!1,t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e}),t.$router.push("/")})},checkUrl:function(){var t=this;if(this.url){this.checkingExistence=!0,this.exists=!1,this.thirdPartyAuthProviders=[];var e=new ga.a;e.url=this.url,e.ping().then(function(){t.exists=!0,t.checkingExistence=!1}).catch(function(){t.exists=!1,t.checkingExistence=!1})}},getThirdPartyAuthProviders:function(){var t=this;this.gettingThirdPartyAuthProviders=!0,this.thirdPartyAuthProviders=[];var e=new ga.a;e.url=this.url,e.getThirdPartyAuthProviders().then(function(t){return t.data}).then(function(e){t.thirdPartyAuthProviders=e,t.gettingThirdPartyAuthProviders=!1}).catch(function(e){t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e}),t.gettingThirdPartyAuthProviders=!1})},resetPassword:function(){var t=this;this.resetLoading=!0,this.$api.request("POST","/auth/reset-request",{},{email:this.email}).then(function(){t.resetLoading=!1}).catch(function(t){alert(JSON.stringify(t,"    ",!1))})},trySSOLogin:function(){var t=this;if(this.$route.query.error){alert(this.$route.query.error);var e=window.location.toString();if(e.indexOf("?")>0){var n=e.substring(0,e.indexOf("?"));window.history.replaceState({},document.title,n)}return null}this.$route.query.request_token&&this.$route.query.request_token.length>0&&this.$store.dispatch("loginSSO",this.$route.query.request_token).then(function(){return t.enterApp()}).catch(function(e){t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})}}},ya=_a,ba=(n("LJwr"),Object(P["a"])(ya,pa,ma,!1,null,"259e2886",null)),$a=ba.exports,ka={name:"project-switcher",components:{VSignal:ha,LoginForm:$a},data:function(){return{active:!1}}},wa=ka,Ca=(n("2slk"),Object(P["a"])(wa,oa,ra,!1,null,"66062ec6",null)),Oa=Ca.exports,xa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-menu"},[t.title?n("h3",{staticClass:"style-4"},[t._v(t._s(t.title))]):t._e(),n("nav",[n("ul",t._l(t.links,function(e){var i=e.path,s=e.name,a=e.icon,o=e.color;return n("li",{key:i},[n(i.startsWith("http")?"a":"router-link",{tag:"component",class:o||null,attrs:{to:i,href:i,target:"__blank",rel:"noopener noreferrer"}},[a?n("i",{staticClass:"material-icons icon"},[t._v(t._s(a))]):n("svg",{staticClass:"icon",attrs:{viewBox:"0 0 15 16"}},[n("path",{attrs:{d:"M.422 12.598l6.773 3.114a.696.696 0 0 0 .61 0l6.771-3.114a.676.676 0 0 0 .424-.66V3.844a.726.726 0 0 0-.013-.13v-.039a.727.727 0 0 0-.029-.093l-.01-.03a.726.726 0 0 0-.059-.11l-.016-.023a.727.727 0 0 0-.064-.077l-.035-.023a.726.726 0 0 0-.08-.066l-.02-.014a.727.727 0 0 0-.098-.055L7.803.07a.696.696 0 0 0-.61 0L.423 3.184a.726.726 0 0 0-.098.055l-.02.014a.727.727 0 0 0-.08.066L.2 3.344a.727.727 0 0 0-.064.077l-.016.023a.726.726 0 0 0-.058.11l-.02.028a.727.727 0 0 0-.03.093v.038A.726.726 0 0 0 0 3.844v8.094c0 .31.14.53.422.66zm1.031-7.617l5.319 2.45v6.493l-5.319-2.451V4.98zm6.774 8.942V7.43l5.318-2.45v6.493l-5.318 2.449zM7.499 1.525l5.035 2.32-5.035 2.318-5.034-2.319 5.034-2.319z"}})]),t._v("\n          "+t._s(s)+"\n        ")])],1)}))])])},ja=[],Sa={name:"nav-menu",props:{title:{type:String,default:null},links:{type:Array,required:!0}}},Ea=Sa,Fa=(n("ZTWS"),Object(P["a"])(Ea,xa,ja,!1,null,"d67fae42",null)),Na=Fa.exports,qa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-menu"},[n("header",[n("v-avatar",{staticClass:"avatar",attrs:{src:t.avatarURL,alt:t.fullName,indicator:!0}}),n("span",{staticClass:"no-wrap"},[t._v(t._s(t.fullName))]),n("i",{staticClass:"material-icons"},[t._v("more_vert")])],1),n("div",{staticClass:"links"},[n("nav-menu",{attrs:{links:[{path:"/settings",name:t.$t("admin_settings"),icon:"settings",color:"warning"},{path:"https://getdirectus.com",name:t.$t("help_and_docs"),icon:"help"}]}}),n("nav-menu",{attrs:{links:[{path:"/files",name:t.$t("file_library"),icon:"collections"},{path:"/users",name:t.$t("user_directory"),icon:"person"}]}}),n("nav-menu",{attrs:{links:[{path:"/activity",name:t.$t("activity"),icon:"notifications"},{path:"/users/"+t.currentUserID,name:t.$t("my_profile"),icon:"person"}]}}),n("button",{staticClass:"sign-out",on:{click:function(e){t.confirmSignOut=!0}}},[n("i",{staticClass:"material-icons icon"},[t._v("exit_to_app")]),t._v("\n      "+t._s(t.$t("sign_out"))+"\n    ")])],1),t.confirmSignOut?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{busy:t.confirmSignOutLoading,message:t.$t("sign_out_confirm"),"confirm-text":t.$t("sign_out")},on:{cancel:function(e){t.confirmSignOut=!1},confirm:t.signOut}})],1):t._e()],1)},Ta=[],Pa={name:"user-menu",components:{NavMenu:Na},data:function(){return{confirmSignOut:!1,confirmSignOutLoading:!1}},computed:{avatarURL:function(){if(this.$store.state.currentUser.avatar){var t=this.$store.state.auth.url,e=this.$store.state.currentUser.avatar.filename;return"".concat(t,"/").concat(e)}return null},currentUserID:function(){return this.$store.state.currentUser&&this.$store.state.currentUser.id},email:function(){return this.$store.state.currentUser&&this.$store.state.currentUser.email},fullName:function(){var t=this.$store.state.currentUser&&this.$store.state.currentUser.first_name,e=this.$store.state.currentUser&&this.$store.state.currentUser.last_name;return"".concat(t," ").concat(e)}},methods:{signOut:function(){this.confirmSignOutLoading=!0,this.$store.dispatch("logout")}}},Ia=Pa,Aa=(n("yAP3"),Object(P["a"])(Ia,qa,Ta,!1,null,"1ee70842",null)),Ba=Aa.exports,La=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-bookmarks"},[t.bookmarks&&t.bookmarks.length>0?n("h3",{staticClass:"style-4"},[t._v(t._s(t.$t("bookmarks")))]):t._e(),t.bookmarks&&t.bookmarks.length>0?n("nav",{class:{"no-border":t.noBorder}},[n("ul",t._l(t.bookmarks,function(e){return n("li",{key:e.id,staticClass:"bookmark"},[n("router-link",{staticClass:"no-wrap",attrs:{to:"/bookmarks/"+e.collection+"/"+e.id}},[n("i",{staticClass:"material-icons icon"},[t._v("bookmark_outline")]),t._v(t._s(e.title)+"\n        ")]),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("delete_bookmark"),expression:"$t('delete_bookmark')"}],on:{click:function(n){t.confirmRemove=!0,t.toBeDeletedBookmark=e.id}}},[n("i",{staticClass:"material-icons"},[t._v("remove_circle_outline")])])],1)}))]):t._e(),t.confirmRemove?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{message:t.$t("delete_bookmark_body")},on:{cancel:function(e){t.confirmRemove=!1},confirm:t.deleteBookmark}})],1):t._e()],1)},Va=[],Ra={name:"nav-bookmarks",props:{bookmarks:{type:Array,required:!0},noBorder:{type:Boolean,default:!1}},data:function(){return{confirmRemove:!1,toBeDeletedBookmark:null}},methods:{deleteBookmark:function(){this.$store.dispatch("deleteBookmark",this.toBeDeletedBookmark),this.confirmRemove=!1,this.toBeDeletedBookmark=null}}},Da=Ra,Ma=(n("xxgk"),Object(P["a"])(Da,La,Va,!1,null,"43178138",null)),Ua=Ma.exports,Ka={name:"nav-sidebar",components:{VLogo:aa,ProjectSwitcher:Oa,NavMenu:Na,UserMenu:Ba,NavBookmarks:Ua,VBlocker:Bs},computed:{collectionNames:function(){var t=this.$store.state.collections;return null==t?[]:Object.values(t).filter(function(t){return 0==t.hidden&&1==t.managed&&!1===t.collection.startsWith("directus_")}).map(function(t){return t.collection})},bookmarks:function(){return this.$store.state.bookmarks},projectName:function(){return this.$store.state.auth.projectName},active:function(){return this.$store.state.sidebars.nav},extensions:function(){var t=[],e=this.$store.state.extensions.pages;return this.$lodash.forEach(e,function(e,n){t.push({path:"/ext/".concat(n),name:e.name,icon:e.icon})}),t}},methods:{logout:function(){this.$store.dispatch("logout")},deleteBookmark:function(t){this.$store.dispatch("deleteBookmark",t)},toBookmark:function(t){var e=this,n=t.collection,i=t.search_query,s=t.filters,a=t.view_options,o=t.view_type,r=t.view_query;this.$store.dispatch("setListingPreferences",{collection:n,updates:{search_query:i,filters:s,view_options:a,view_type:o,view_query:r}}).then(function(){e.$router.push("/collections/".concat(n))})},disableNav:function(){this.$store.commit(_s,!1)}}},za=Ka,Qa=(n("4KBo"),n("kNV6"),Object(P["a"])(za,Ys,Xs,!1,null,"7e841b7a",null)),Wa=Qa.exports,Ga={name:"directus",metaInfo:{title:"Directus"},components:{VBlocker:Bs,VError:Ws,VNavSidebar:Wa},computed:{publicRoute:function(){return this.$route.meta.publicRoute||!1},hydrated:function(){return this.$store.state.hydrated||!1},hydratingError:function(){return this.$store.state.hydratingError}},watch:{$route:function(){this.bodyClass(),this.$store.commit(_s,!1),this.infoActive=!1},infoActive:function(t){var e=this.$route.meta&&"wide"===this.$route.meta.infoSidebarWidth?"info-wide-active":"info-active";t?document.body.classList.add(e):(document.body.classList.remove("info-wide-active"),document.body.classList.remove("info-active"))},hydratingError:function(t){t&&document.body.classList.add("no-padding")}},created:function(){this.bodyClass()},methods:{bodyClass:function(){this.publicRoute?document.body.classList.add("no-padding"):document.body.classList.remove("no-padding")},keepEditing:function(){this.$router.push("/collections/".concat(this.$store.state.edits.collection,"/").concat(this.$store.state.edits.primaryKey))},discardChanges:function(){this.$store.dispatch("discardChanges")}}},Ha=Ga,Za=(n("Ss1K"),n("+mu8"),Object(P["a"])(Ha,Zs,Js,!1,null,"4c43e8be",null)),Ja=Za.exports,Ya=(n("dZ+Y"),n("jE9Z")),Xa=(n("eM6i"),n("L2JU")),to=n("DkTT"),eo=n("bMgQ"),no=n.n(eo),io=null;function so(){io=setInterval(function(){vr.dispatch("latency"),vr.dispatch("track",{page:Mu.currentRoute.path})},1e4)}function ao(){clearInterval(io)}var oo=window.__DirectusConfig__;function ro(t){var e;return e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0],e=e.split(":")[0],e=e.split("?")[0],e}function lo(t,e){var n=t.commit;return n(Mi),wr.login(Object(At["a"])({},e,{persist:!0})).then(function(t){n(Ui,Object(At["a"])({},t,{projectName:oo.api[t.url]||ro(t.url)}))}).catch(function(t){throw n(Ki,t),t})}function co(t,e){var n=t.commit;n(Mi);var i=no()(e),s=i.url,a=i.env;return wr.url=s,wr.env=a,wr.request("POST","/auth/access_token",{},{request_token:e}).then(function(t){return t.data}).then(function(t){var e=t.token;wr.token=e,n(Ui,{env:a,url:s,token:e,projectName:oo.api[s]||ro(s)})})}function uo(t,e){var n=t.commit,i=e.token,s=e.url;n(Qi,{token:i,url:s})}function fo(t,e){var n=t.commit;ao(),wr.logout(),gr(),Mu.push("/login"),n(zi,e)}function ho(t){var e=t.commit;e(Wi)}function po(t){var e=t.commit;e(zi)}var mo,vo=n("oyJW"),go=(mo={},Object(vo["a"])(mo,Mi,function(t){t.loading=!0}),Object(vo["a"])(mo,Ui,function(t,e){t.loading=!1,t.error=null,t.token=e.token,t.env=e.env,t.url=e.url,t.projectName=e.projectName}),Object(vo["a"])(mo,Ki,function(t,e){t.token=null,t.url=null,t.env=null,t.projectName=null,t.loading=!1,t.error=e}),Object(vo["a"])(mo,zi,function(t,e){t.error=e}),Object(vo["a"])(mo,Qi,function(t,e){t.loading=!1,t.error=null,t.token=e.token,t.env=e.env,t.url=e.url}),Object(vo["a"])(mo,Wi,function(t){t.error=null}),mo),_o=go;n("fN96");function yo(t){if(t.token){var e=no()(t.token);return e.exp&&Number.isInteger(e.exp)&&(e.exp=new Date(1e3*e.exp)),e}return null}function bo(t){return!!(t.token&&t.token.length>0&&t.url&&t.url.length>0&&yo(t).exp>new Date)}var $o={token:null,url:null,env:"_",error:null,loading:!1,projectName:null},ko={state:$o,actions:s,mutations:_o,getters:a},wo=(n("XfO3"),n("qSUR")),Co=n("EnEa");d["default"].use(wo["a"]);var Oo=new wo["a"]({locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":Co["default"]},dateTimeFormats:{"en-US":Co["dateTimeFormats"]},silentTranslationWarn:!0});var xo,jo=["en-US"];function So(t,e,n){var i=function(t){return null==t?t:"string"===typeof t?t.split(" ").map(function(t){return t.startsWith("$t:")?Oo.t("".concat(e,"-").concat(n,"-").concat(t.substring(3))):t}).join(" "):Object(f["isObject"])(t)&&Object.keys(t).length>0||Array.isArray(t)&&t.length>0?So(t,e,n):t};return Array.isArray(t)?t.map(i):Object(f["mapValues"])(t,i)}function Eo(t,e){var n=t.commit,s=e.toUpperCase(),a=null;switch(e){case"interfaces":a=wr.getInterfaces();break;case"listings":a=wr.getListings();break;case"pages":a=wr.getPages();break;default:}return a.then(function(t){return t.data}).then(function(t){return t.forEach(function(t){var n=t.id,i=t.translation;i&&Object(f["forEach"])(i,function(t,i){Oo.mergeLocaleMessage(i,Object(f["mapKeys"])(t,function(t,i){return"".concat(e,"-").concat(n,"-").concat(i)}))})}),t}).then(function(t){return t.map(function(t){return So(t,e,t.id)})}).then(function(t){n(i["SET_".concat(s)],t)})}function Fo(t){var e=t.dispatch;return Promise.all([e("getExtensions","interfaces"),e("getExtensions","listings"),e("getExtensions","pages")])}var No,qo=(xo={},Object(vo["a"])(xo,os,function(t,e){t.interfaces=Object(f["keyBy"])(e,"id")}),Object(vo["a"])(xo,rs,function(t,e){t.listings=Object(f["keyBy"])(e,"id")}),Object(vo["a"])(xo,ls,function(t,e){t.pages=Object(f["keyBy"])(e,"id")}),xo),To=qo,Po={listings:{},interfaces:{}},Io={state:Po,actions:o,mutations:To};function Ao(t){var e=t.commit;e(es)}function Bo(t,e){var n=t.commit,i=e.collection,s=e.primaryKey,a=e.savedValues;n(is,{collection:i,primaryKey:s,savedValues:a})}function Lo(t,e){var n=t.commit,i=t.state,s=e.field,a=e.value;return i.savedValues[s]==a?n(ss,{field:s}):n(as,{field:s,value:a})}function Vo(t,e){var n=t.commit;return n(ss,{field:e})}function Ro(t,e){var n=t.commit,i=t.state;function s(t){return n(ns),t}var a=Object(At["a"])({},i,e);return"+"===a.primaryKey?wr.createItem(a.collection,a.values).then(s):wr.updateItem(a.collection,a.primaryKey,a.values).then(s)}function Do(t){var e=t.collection&&t.collection.length>0,n=t.primaryKey&&t.primaryKey.length>0,i=t.values&&Object.keys(t.values).length>0,s=t.saving;return e&&n&&i&&!s||!1}var Mo,Uo=(No={},Object(vo["a"])(No,es,function(t){t.saving=!1,t.error=null,t.collection=null,t.primaryKey=null,t.values={}}),Object(vo["a"])(No,ns,function(t){t.saving=!1,t.error=null,t.collection=null,t.primaryKey=null,t.values={}}),Object(vo["a"])(No,is,function(t,e){var n=e.collection,i=e.primaryKey,s=e.savedValues;t.collection=n,t.primaryKey=i,t.savedValues=s,t.values={}}),Object(vo["a"])(No,ss,function(t,e){var n=e.field;d["default"].delete(t.values,n)}),Object(vo["a"])(No,as,function(t,e){var n=e.field,i=e.value;d["default"].set(t.values,n,i)}),No),Ko=Uo,zo={collection:null,primaryKey:null,values:{},savedValues:{}},Qo={actions:r,mutations:Ko,state:zo,getters:l},Wo={hydrated:!1,hydratingError:null,latency:[],settings:{},currentUser:{},collections:{},bookmarks:[],sidebars:{nav:!1,info:!1},queue:[]},Go=n("iOBc"),Ho=n.n(Go);function Zo(t){var e=t.commit,n=performance.now(),i=Date.now();wr.request("get","/server/ping",{},{},!0).then(function(){var t=performance.now(),s=t-n;e(fs,{date:i,latency:s})}).catch(function(){e(fs,{date:i,latency:-1})})}function Jo(t){var e=t.commit;return wr.getSettings().then(function(t){return t.data}).then(function(t){return e(gs,t)})}function Yo(t){var e=t.commit;return wr.getMe().then(function(t){return t.data}).then(function(t){return e(ms,t)})}function Xo(t,e){var n=t.commit,i=t.state,s=e.page,a=i.currentUser.id,o={last_page:s};return n(vs,o),wr.request("PATCH","/users/".concat(a,"/tracking/page"),{},o)}function tr(t,e){var n=t.commit;return wr.getFields(e).then(function(t){return t.data}).then(function(t){n(cs,{data:t,collection:e}),Object(f["forEach"])(t,function(t){Object(f["isEmpty"])(t.translation)?Object(f["forEach"])(jo,function(n){Oo.mergeLocaleMessage(n,Object(vo["a"])({},"fields-".concat(e,"-").concat(t.field),Ho()(t.field)))}):Object(f["forEach"])(t.translation,function(n,i){Oo.mergeLocaleMessage(i,Object(vo["a"])({},"fields-".concat(e,"-").concat(t.field),n))})})})}function er(t){var e=t.commit;return wr.getCollections().then(function(t){return t.data}).then(function(t){Object(f["forEach"])(t,function(t){Object(f["isEmpty"])(t.translation)?Object(f["forEach"])(jo,function(e){Oo.mergeLocaleMessage(e,Object(vo["a"])({},"collections-".concat(t.collection),Ho()(t.collection)))}):Object(f["forEach"])(t.translation,function(e,n){Oo.mergeLocaleMessage(n,Object(vo["a"])({},"collections-".concat(t.collection),e))})}),e(Ji,t)})}function nr(t,e){var n=t.commit;Object(f["isEmpty"])(e.translation)?Object(f["forEach"])(jo,function(t){Oo.mergeLocaleMessage(t,Object(vo["a"])({},"collections-".concat(e.collection),Ho()(e.collection)))}):Object(f["forEach"])(e.translation,function(t,n){Oo.mergeLocaleMessage(n,Object(vo["a"])({},"collections-".concat(e.collection),t))}),n(Yi,e)}function ir(t,e){var n=t.commit;n(Xi,e)}function sr(t,e){var n=t.commit,i=e.collection,s=e.edits;n(ts,{collection:i,edits:s})}function ar(t){var e=t.commit;return wr.getMyBookmarks().then(function(t){return e(Gi,t),t})}function or(t,e){var n=t.commit;return wr.createCollectionPreset(e).then(function(t){var e=t.data;return n(Hi,e),e})}function rr(t,e){var n=this,i=t.commit;return i(Zi,e),wr.deleteCollectionPreset(e).catch(function(t){n.$events.emit("error",{notify:n.$t("something_went_wrong_body"),error:t})})}function lr(t,e){var n=t.commit,i=e.id,s=e.desc;n(hs,{id:i,desc:s})}function cr(t,e){var n=t.commit;n(ps,e)}function ur(t){var e=t.latency[t.latency.length-1];return e?(e=e.latency,e>0&&e<200?4:e>=200&&e<500?3:e>=500&&e<1e3?2:e>=1e3?1:0):0}var dr=(Mo={},Object(vo["a"])(Mo,us,function(t,e){t.hydrated=e}),Object(vo["a"])(Mo,ds,function(t,e){t.hydrated=!1,t.hydratingError=e}),Object(vo["a"])(Mo,fs,function(t,e){var n=Object(ct["a"])(t.latency);n.push(e),n.length>200&&n.shift(),t.latency=n}),Object(vo["a"])(Mo,gs,function(t,e){t.settings=Object(f["mapValues"])(Object(f["keyBy"])(e,"key"),function(t){return t.value})}),Object(vo["a"])(Mo,ms,function(t,e){t.currentUser=e}),Object(vo["a"])(Mo,vs,function(t,e){t.currentUser=Object(At["a"])({},t.currentUser,e)}),Object(vo["a"])(Mo,cs,function(t,e){var n=e.data,i=e.collection;Object(f["isEmpty"])(t.fields[i])&&d["default"].set(t.fields,i,{}),t.fields[i]=Object(f["keyBy"])(n,"field")}),Object(vo["a"])(Mo,Ji,function(t,e){t.collections=Object(f["keyBy"])(e,"collection")}),Object(vo["a"])(Mo,Yi,function(t,e){t.collections=Object(At["a"])({},t.collections,Object(vo["a"])({},e.collection,e))}),Object(vo["a"])(Mo,Xi,function(t,e){var n=Object(At["a"])({},t.collections);delete n[e],t.collections=n}),Object(vo["a"])(Mo,ts,function(t,e){var n=e.collection,i=e.edits;t.collections=Object(At["a"])({},t.collections,Object(vo["a"])({},n,Object(At["a"])({},t.collections[n],i)))}),Object(vo["a"])(Mo,Gi,function(t,e){t.bookmarks=e}),Object(vo["a"])(Mo,Hi,function(t,e){t.bookmarks=Object(ct["a"])(t.bookmarks).concat([e])}),Object(vo["a"])(Mo,Zi,function(t,e){t.bookmarks=t.bookmarks.filter(function(t){return t.id!==e})}),Object(vo["a"])(Mo,_s,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!t.sidebars.nav;t.sidebars.nav=e}),Object(vo["a"])(Mo,ys,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!t.sidebars.info;t.sidebars.info=e}),Object(vo["a"])(Mo,hs,function(t,e){var n=e.id,i=e.desc;t.queue=Object(ct["a"])(t.queue).concat([{id:n,desc:i}])}),Object(vo["a"])(Mo,ps,function(t,e){t.queue=t.queue.filter(function(t){return t.id!==e})}),Mo),fr=dr;d["default"].use(Xa["a"]);var hr=!1,pr=["auth.token","auth.url","auth.projectName","edits"],mr=new Xa["a"].Store({state:Wo,actions:c,getters:u,mutations:fr,strict:hr,modules:{auth:ko,extensions:Io,edits:Qo},plugins:[Object(to["a"])({key:"directus",paths:pr})]}),vr=mr;function gr(){var t=JSON.parse(JSON.stringify(Wo));t.auth.url=mr.state.auth.url,mr.replaceState(JSON.parse(JSON.stringify(t)))}var _r=new ga.a,yr=vr.state.auth.token,br=vr.state.auth.url,$r=yr?Object(va["getPayload"])(yr):null;if($r&&br){var kr=$r.exp.getTime()-Date.now();kr>1e4?(_r.url=br,_r.token=yr):vr.dispatch("clearAuth")}_r.onAutoRefreshSuccess=function(t){vr.dispatch("refresh",t)},_r.onAutoRefreshError=function(t){vr.dispatch("logout",t)},_r.startInterval();var wr=_r,Cr=(n("HAE/"),n("rI6k")),Or=n.n(Cr),xr=new Or.a({delay:5e3}),jr=xr,Sr=function(t){Object(f["isEmpty"])(t.message)||console.error(t.message),Object(f["isUndefined"])(t.error)||console.error(t.error),Object(f["isEmpty"])(t.notify)||jr.alert(t.notify)},Er=Sr,Fr=new d["default"];Object.defineProperties(Fr,{on:{get:function(){return Fr.$on}},off:{get:function(){return Fr.$off}},emit:{get:function(){return Fr.$emit}},once:{get:function(){return Fr.$once}}}),Fr.on("error",Er),Fr.install=function(t){Object.defineProperty(t.prototype,"$events",{value:Fr})};var Nr=Fr,qr=n("yqie"),Tr=null;function Pr(t){var e=+t.state.settings.auto_sign_out||60;Tr=(new qr["a"]).whenNotInteractive().within(e).do(function(){t.dispatch("logout",{code:101}),Tr.stop()}).start()}function Ir(){return Promise.all([vr.dispatch("latency"),vr.dispatch("getCurrentUser"),vr.dispatch("getCollections"),vr.dispatch("getSettings"),vr.dispatch("getAllExtensions"),vr.dispatch("getBookmarks")]).then(function(){var t=vr.state.settings.color;t&&document.documentElement.style.setProperty("--accent","var(--".concat(t,"-600)")),vr.commit(us,new Date),so(),Pr(vr)}).catch(function(t){vr.commit(ds,t),console.error(t)})}var Ar=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collections"},[n("v-header-bar",{attrs:{breadcrumb:[{name:t.$t("collections"),path:"/collections"}]}}),0===t.items.length?n("v-error",{attrs:{title:t.$t("no_collections"),body:t.$t("no_collections_body"),icon:"error_outline"}}):n("v-table",{attrs:{items:t.items,columns:t.fields,"primary-key-field":"collection",link:"__link__"},on:{select:t.select}})],1)},Br=[],Lr={name:"collections",metaInfo:function(){return{title:this.$t("collections")}},components:{VError:Ws},computed:{items:function(){var t=this,e=this.$store.state.collections||{};return Object.values(e).filter(function(t){return!1===t.hidden}).map(function(e){return Object(At["a"])({},e,{collection:t.$t("collections-".concat(e.collection)),__link__:"/collections/".concat(e.collection)})})},fields:function(){return[{field:"collection",name:this.$t("collection")},{field:"note",name:this.$t("note")}]}},methods:{select:function(t){this.selection=t}}},Vr=Lr,Rr=(n("RZQ4"),Object(P["a"])(Vr,Ar,Br,!1,null,"6835dbf8",null)),Dr=Rr.exports,Mr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.notFound?n("v-not-found"):n("div",{staticClass:"route-item-listing"},[n("v-header-bar",{attrs:{"info-toggle":""}},[n("template",{slot:"title"},[n("button",{staticClass:"bookmark",class:t.currentBookmark?"active":null,attrs:{disabled:t.currentBookmark},on:{click:function(e){t.bookmarkModal=!0}}},[n("i",{staticClass:"material-icons"},[t._v("\n          "+t._s(t.currentBookmark?"bookmark":"bookmark_border")+"\n        ")])]),t.currentBookmark?n("div",{staticClass:"bookmark-name no-wrap"},[t._v("("+t._s(t.currentBookmark.title)+")")]):t._e()]),n("v-search-filter",{directives:[{name:"show",rawName:"v-show",value:0===t.selection.length&&!t.emptyCollection,expression:"selection.length === 0 && !emptyCollection"}],attrs:{filters:t.filters,"search-query":t.searchQuery,"field-names":t.fieldNames,placeholder:t.resultCopy},on:{filter:function(e){t.updatePreferences("filters",e)},search:function(e){t.updatePreferences("search_query",e)},"clear-filters":t.clearFilters}}),n("template",{slot:"buttons"},[t.selection.length>1?n("v-header-button",{key:"edit",attrs:{icon:"mode_edit",color:"warning",label:t.$t("batch_edit"),to:"/collections/"+t.collection+"/"+t.selection.join(",")}}):t._e(),t.selection.length?n("v-header-button",{key:"delete",attrs:{icon:"close",color:"danger",label:t.$t("delete")},on:{click:function(e){t.confirmRemove=!0}}}):t._e(),n("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:t.$t("new"),to:"/collections/"+t.collection+"/+"}})],1)],2),t.preferences?n("v-item-listing",{ref:"listing",attrs:{collection:t.collection,filters:t.filters,"search-query":t.searchQuery,"view-query":t.viewQuery,"view-type":t.viewType,"view-options":t.viewOptions,selection:t.selection,links:""},on:{fetch:function(e){t.meta=e},options:t.setViewOptions,select:function(e){t.selection=e},query:t.setViewQuery}}):t._e(),t.preferences?n("v-info-sidebar",[n("template",{slot:"system"},[n("label",{attrs:{for:"listing"}},[t._v(t._s(t.$t("view_type")))]),n("v-select",{attrs:{id:"listing",options:t.listingNames,value:t.viewType,name:"listing"},on:{input:function(e){t.updatePreferences("view_type",e)}}})],1),n("v-listing-options",{key:t.collection+"-"+t.viewType,attrs:{type:t.viewType,collection:t.collection,fields:t.$lodash.keyBy(t.fields,"field"),"view-options":t.viewOptions,"view-query":t.viewQuery,selection:t.selection,link:"__link__"},on:{query:t.setViewQuery,options:t.setViewOptions}})],2):t._e(),t.confirmRemove?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{message:t.$tc("batch_delete_confirm",t.selection.length,{count:t.selection.length}),color:"danger","confirm-text":t.$t("delete")},on:{cancel:function(e){t.confirmRemove=!1},confirm:t.remove}})],1):t._e(),t.bookmarkModal?n("portal",{attrs:{to:"modal"}},[n("v-prompt",{attrs:{message:t.$t("name_bookmark")},on:{cancel:t.cancelBookmark,confirm:t.saveBookmark},model:{value:t.bookmarkTitle,callback:function(e){t.bookmarkTitle=e},expression:"bookmarkTitle"}})],1):t._e()],1)},Ur=[],Kr=n("k5N+"),zr=n("je4i"),Qr=n.n(zr),Wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-filter",class:{open:t.open}},[n("v-header-button",{staticClass:"toggle",attrs:{alert:t.hasFilters,icon:"filter_list","no-background":""},on:{click:function(e){t.open=!t.open}}},[t._v("Filter")]),n("div",{staticClass:"wrapper"},[n("i",{staticClass:"material-icons"},[t._v("search")]),n("input",{ref:"searchInput",staticClass:"search",class:{"has-filters":t.hasFilters},attrs:{placeholder:t.placeholder||t.$t("search"),type:"text"},domProps:{value:t.searchQuery},on:{input:function(e){t.search(e.target.value)}}}),n("transition",{attrs:{name:"fade"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.hasFilters,expression:"hasFilters"}],staticClass:"clear-filters",class:{"has-filters":t.hasFilters},on:{click:t.clearFilters}},[n("i",{staticClass:"material-icons"},[t._v("close")])])]),n("button",{staticClass:"toggle",class:{"has-filters":t.hasFilters},on:{click:function(e){t.open=!t.open}}},[n("i",{staticClass:"material-icons"},[t._v("filter_list")])])],1),n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"dropdown"},[n("div",{staticClass:"search field"},[n("v-input",{attrs:{placeholder:t.placeholder||t.$t("search"),value:t.searchQuery,type:"search","icon-left":"search"},on:{input:t.search}})],1),t._l(t.filters,function(e,i){return n("div",{key:i,staticClass:"field"},[n("invisible-label",{attrs:{"html-for":"filter-"+i}},[t._v("\n          "+t._s(t.fields[e.field])+" "+t._s(t.operators[e.operator])+"\n        ")]),n("div",{staticClass:"name"},[n("p",[t._v(t._s(t.fields[e.field]))]),n("span",[t._v("\n            "+t._s(t.$t(t.operators[e.operator]))+"\n            "),n("i",{staticClass:"material-icons"},[t._v("arrow_drop_down")]),n("select",{on:{change:function(e){t.updateFilter(i,"operator",e.target.value)}}},t._l(t.operators,function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v(t._s(t.$t(e)))])}))]),n("button",{staticClass:"remove",on:{click:function(e){t.deleteFilter(i)}}},[t._v(t._s(t.$t("remove")))])]),n("v-input",{attrs:{autofocus:"",id:"filter-"+i,value:e.value,type:"text"},on:{input:function(e){t.updateFilter(i,"value",e)}}})],1)}),n("div",{staticClass:"field"},[n("invisible-label",{attrs:{"html-for":"add"}},[t._v(t._s(t.$t("add_field_filter")))]),n("v-select",{attrs:{id:"add",placeholder:t.$t("add_field_filter"),options:t.fields,"default-value":""},on:{input:t.addFilter}})],1)],2)]),t.open?n("v-blocker",{staticClass:"blocker",attrs:{"z-index":18},on:{click:function(e){t.open=!t.open}}}):t._e()],1)},Gr=[],Hr=(n("OG14"),{name:"search-filter",components:{VBlocker:Bs,VHeaderButton:Es},props:{fieldNames:{type:Array,default:function(){return[]}},filters:{type:Array,default:function(){return[]}},searchQuery:{type:String,default:""},placeholder:{type:String,default:null}},data:function(){return{open:!1}},computed:{operators:function(){return{eq:"equal_to",neq:"not_equal_to",lt:"less_than",lte:"less_than_equal",gt:"greater_than",gte:"greater_than_equal",in:"in_list",nin:"not_in_list",null:"is_null",nnull:"is_not_null",contains:"contains",ncontains:"not_contains",between:"between",nbetween:"not_between",empty:"is_empty",nempty:"not_empty",has:"related_entries",nhas:"no_related_entries"}},hasFilters:function(){return!!(this.filters&&this.filters.length>0||this.searchQuery)},fields:function(){var t=this,e={};return this.fieldNames.forEach(function(n){e[n]=t.$helpers.formatTitle(n)}),e}},created:function(){this.search=this.$lodash.debounce(this.search,300),this.updateFilter=this.$lodash.debounce(this.updateFilter,300)},methods:{search:function(t){this.$emit("search",t)},addFilter:function(t){this.$emit("filter",Object(ct["a"])(this.filters).concat([{field:t,operator:"eq",value:""}]))},updateFilter:function(t,e,n){var i=this.$lodash.cloneDeep(this.filters);i[t][e]=n,this.$emit("filter",i)},deleteFilter:function(t){var e=this.$lodash.cloneDeep(this.filters);e.splice(t,1),this.$emit("filter",e)},clearFilters:function(){this.$emit("clearFilters"),this.open&&(this.open=!1)}}}),Zr=Hr,Jr=(n("RISZ"),Object(P["a"])(Zr,Wr,Gr,!1,null,"77dea472",null)),Yr=Jr.exports,Xr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"not-found"},[n("v-header-bar",{attrs:{title:t.$t("page_not_found")}}),n("v-error",{attrs:{title:t.$t("page_not_found"),body:t.$t("page_not_found_body"),icon:"not_interested"}})],1)},tl=[],el={name:"not-found",metaInfo:function(){return{title:this.$t("page_not_found")}},components:{VError:Ws}},nl=el,il=(n("tn+0"),Object(P["a"])(nl,Xr,tl,!1,null,"228cacde",null)),sl=il.exports,al={name:"route-item-listing",metaInfo:function(){return{title:this.$helpers.formatTitle(this.collection)}},components:{VItemListing:on,VSearchFilter:Yr,VNotFound:sl},data:function(){return{selection:[],meta:null,preferences:null,fields:[],confirmRemove:!1,bookmarkModal:!1,bookmarkTitle:"",notFound:!1}},computed:{currentBookmark:function(){var t=this;if(this.preferences){var e=this.$store.state.bookmarks,n={collection:this.preferences.collection,search_query:this.preferences.search_query,filters:this.preferences.filters,view_options:this.preferences.view_options,view_type:this.preferences.view_type,view_query:this.preferences.view_query},i=e.filter(function(e){var i={collection:e.collection,search_query:e.search_query,filters:e.filters,view_options:e.view_options,view_type:e.view_type,view_query:e.view_query};return t.$lodash.isEqual(i,n)})[0];return i||null}},collection:function(){return this.$route.params.collection},emptyCollection:function(){return this.meta&&0===this.meta.total_count||!1},filters:function(){return this.preferences&&this.preferences.filters||[]},searchQuery:function(){return this.preferences&&this.preferences.search_query||""},viewType:function(){return this.preferences&&this.preferences.view_type||"tabular"},viewQuery:function(){return this.preferences&&this.preferences.view_query&&this.preferences.view_query[this.viewType]||{}},viewOptions:function(){return this.preferences&&this.preferences.view_options&&this.preferences.view_options[this.viewType]||{}},resultCopy:function(){if(!this.meta||!this.preferences)return this.$t("loading");var t=!this.$lodash.isEmpty(this.preferences.filters)||!this.$lodash.isNil(this.preferences.search_query)&&this.preferences.search_query.length>0;return t?this.$tc("item_count_filter",this.meta.result_count,{count:this.$n(this.meta.result_count)}):this.$tc("item_count",this.meta.total_count,{count:this.$n(this.meta.total_count)})},fieldNames:function(){return this.fields.map(function(t){return t.field})},listingNames:function(){var t=this;if(!this.$store.state.extensions.listings)return{};var e={};return Object.keys(this.$store.state.extensions.listings).forEach(function(n){e[n]=t.$store.state.extensions.listings[n].name}),e}},methods:{cancelBookmark:function(){this.bookmarkTitle="",this.bookmarkModal=!1},setViewQuery:function(t){var e=Object(At["a"])({},this.preferences.view_query,Object(vo["a"])({},this.viewType,Object(At["a"])({},this.viewQuery,t)));this.updatePreferences("view_query",e)},setViewOptions:function(t){var e=Object(At["a"])({},this.preferences.view_options,Object(vo["a"])({},this.viewType,Object(At["a"])({},this.viewOptions,t)));this.updatePreferences("view_options",e)},updatePreferences:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i&&(e=Object(At["a"])({},this.preferences[t],e)),this.$set(this.preferences,t,e);var s=null==this.preferences.user;if(s)return this.createCollectionPreset();var a=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:a}),this.$api.updateCollectionPreset(this.preferences.id,Object(vo["a"])({},t,e)).then(function(){n.$store.dispatch("loadingFinished",a)}).catch(function(t){n.$store.dispatch("loadingFinished",a),n.$events.emit("error",{notify:n.$t("something_went_wrong_body"),error:t})})},createCollectionPreset:function(){var t=this,e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e});var n=Object(At["a"])({},this.preferences);return delete n.id,this.$api.createCollectionPreset(Object(At["a"])({},n,{collection:this.collection,user:this.$store.state.currentUser.id})).then(function(n){var i=n.data;t.$store.dispatch("loadingFinished",e),t.$set(t.preferences,"id",i.id)}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},clearFilters:function(){this.updatePreferences("filters",null),this.updatePreferences("search_query",null)},remove:function(){var t=this,e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteItems(this.collection,this.selection).then(function(){t.$store.dispatch("loadingFinished",e),t.$refs.listing.getItems()}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})}),this.confirmRemove=!1},saveBookmark:function(){var t=this,e=Object(At["a"])({},this.preferences);e.user=this.$store.state.currentUser.id,e.title=this.bookmarkTitle,delete e.id,delete e.role,e.collection||(e.collection=this.collection);var n=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:n}),this.$store.dispatch("saveBookmark",e).then(function(){t.$store.dispatch("loadingFinished",n),t.bookmarkModal=!1,t.bookmarkTitle=""}).catch(function(e){t.$store.dispatch("loadingFinished",n),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})}},watch:{$route:function(){this.$route.query.b&&this.$router.replace({path:this.$route.path})}},beforeRouteEnter:function(t,e,n){var i=this,s=t.params.collection,a=vr.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===a)return n(function(t){return t.notFound=!0});if(a&&a.single)return n("/collections/".concat(s,"/1"));var o=Qr.a.generate();return vr.dispatch("loadingStart",{id:o}),Promise.all([wr.getMyListingPreferences(s),wr.getFields(s)]).then(function(t){var e=Object(Kr["a"])(t,2),n=e[0],i=e[1];return{preferences:n,fields:i.data.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})})}}).then(function(t){var e=t.preferences,i=t.fields;vr.dispatch("loadingFinished",o),n(function(t){t.$data.preferences=e,t.$data.fields=i})}).catch(function(t){vr.dispatch("loadingFinished",o),i.$events.emit("error",{notify:i.$t("something_went_wrong_body"),error:t})})},beforeRouteUpdate:function(t,e,n){var i=this,s=t.params.collection;this.preferences=null,this.fields=[],this.selection=[],this.meta={},this.notFound=!1;var a=this.$store.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===a)return this.notFound=!0,n();if(a&&a.single)return n("/collections/".concat(s,"/1"));var o=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:o}),Promise.all([wr.getMyListingPreferences(s),wr.getFields(s)]).then(function(t){var e=Object(Kr["a"])(t,2),n=e[0],i=e[1];return{preferences:n,fields:i.data.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})})}}).then(function(t){var e=t.preferences,s=t.fields;i.$store.dispatch("loadingFinished",o),i.preferences=e,i.fields=s,n()}).catch(function(t){i.$store.dispatch("loadingFinished",o),i.$events.emit("error",{notify:i.$t("something_went_wrong_body"),error:t})})}},ol=al,rl=(n("uA43"),Object(P["a"])(ol,Mr,Ur,!1,null,"ba3f8c70",null)),ll=rl.exports,cl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.notFound?n("v-not-found"):n("div",{staticClass:"route-item-listing"},[n("v-header-bar",{attrs:{"info-toggle":""}},[n("template",{slot:"title"},[n("button",{staticClass:"bookmark",class:t.currentBookmark?"active":null,attrs:{disabled:t.currentBookmark},on:{click:function(e){t.bookmarkModal=!0}}},[n("i",{staticClass:"material-icons"},[t._v("\n          "+t._s(t.currentBookmark?"bookmark":"bookmark_border")+"\n        ")])]),t.currentBookmark?n("div",{staticClass:"bookmark-name no-wrap"},[t._v("("+t._s(t.currentBookmark.title)+")")]):t._e()]),n("v-search-filter",{directives:[{name:"show",rawName:"v-show",value:0===t.selection.length&&!t.emptyCollection,expression:"selection.length === 0 && !emptyCollection"}],attrs:{filters:t.filters,"search-query":t.searchQuery,"field-names":t.fieldNames,placeholder:t.resultCopy},on:{filter:function(e){t.updatePreferences("filters",e)},search:function(e){t.updatePreferences("search_query",e)},"clear-filters":t.clearFilters}}),n("template",{slot:"buttons"},[t.selection.length>1?n("v-header-button",{key:"edit",attrs:{icon:"mode_edit",color:"warning",label:t.$t("batch_edit"),to:"/collections/"+t.collection+"/"+t.selection.join(",")}}):t._e(),t.selection.length?n("v-header-button",{key:"delete",attrs:{icon:"close",color:"danger",label:t.$t("delete")},on:{click:function(e){t.confirmRemove=!0}}}):t._e(),n("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:t.$t("new")},on:{click:function(e){t.newModal=!0}}})],1)],2),t.preferences?n("v-item-listing",{key:t.key,ref:"listing",attrs:{collection:t.collection,filters:t.filters,"search-query":t.searchQuery,"view-query":t.viewQuery,"view-type":t.viewType,"view-options":t.viewOptions,selection:t.selection,links:""},on:{fetch:function(e){t.meta=e},options:t.setViewOptions,select:function(e){t.selection=e},query:t.setViewQuery}}):t._e(),t.preferences?n("v-info-sidebar",[n("template",{slot:"system"},[n("label",{attrs:{for:"listing"}},[t._v(t._s(t.$t("view_type")))]),n("v-select",{attrs:{id:"listing",options:t.listingNames,value:t.viewType,name:"listing"},on:{input:function(e){t.updatePreferences("view_type",e)}}})],1),n("v-listing-options",{key:t.collection+"-"+t.viewType,attrs:{type:t.viewType,collection:t.collection,fields:t.$lodash.keyBy(t.fields,"field"),"view-options":t.viewOptions,"view-query":t.viewQuery,selection:t.selection,link:"__link__"},on:{query:t.setViewQuery,options:t.setViewOptions}})],2):t._e(),t.confirmRemove?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{message:t.$tc("batch_delete_confirm",t.selection.length,{count:t.selection.length}),color:"danger","confirm-text":t.$t("delete")},on:{cancel:function(e){t.confirmRemove=!1},confirm:t.remove}})],1):t._e(),t.bookmarkModal?n("portal",{attrs:{to:"modal"}},[n("v-prompt",{attrs:{message:t.$t("name_bookmark")},on:{cancel:t.cancelBookmark,confirm:t.saveBookmark},model:{value:t.bookmarkTitle,callback:function(e){t.bookmarkTitle=e},expression:"bookmarkTitle"}})],1):t._e(),t.newModal?n("portal",{attrs:{to:"modal"}},[n("v-modal",{attrs:{title:t.$t("file_upload"),buttons:{upload:{text:t.$t("upload")}}},on:{close:function(e){t.newModal=!1},upload:t.uploadFiles}},[n("div",{staticClass:"new-file"},[t.previewSrc?n("img",{attrs:{src:t.previewSrc}}):n("div",{staticClass:"dropzone"},[n("p",[t._v(t._s(t.$t("drop_file")))]),n("form",{attrs:{enctype:"multipart/form-data",novalidate:""}},[n("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:t.stageFile}})])])])])],1):t._e()],1)},ul=[],dl=(n("HEwt"),{name:"route-file-library",metaInfo:function(){return{title:this.$t("file_library")}},components:{VItemListing:on,VSearchFilter:Yr,VNotFound:sl},data:function(){return{selection:[],meta:null,preferences:null,fields:[],confirmRemove:!1,bookmarkModal:!1,bookmarkTitle:"",notFound:!1,newModal:!1,files:[],previewSrc:null,key:"init"}},computed:{currentBookmark:function(){var t=this;if(this.preferences){var e=this.$store.state.bookmarks,n={collection:this.preferences.collection,search_query:this.preferences.search_query,filters:this.preferences.filters,view_options:this.preferences.view_options,view_type:this.preferences.view_type,view_query:this.preferences.view_query},i=e.filter(function(e){var i={collection:e.collection,search_query:e.search_query,filters:e.filters,view_options:e.view_options,view_type:e.view_type,view_query:e.view_query};return t.$lodash.isEqual(i,n)})[0];return i||null}},collection:function(){return"directus_files"},emptyCollection:function(){return this.meta&&0===this.meta.total_count||!1},filters:function(){return this.preferences&&this.preferences.filters||[]},searchQuery:function(){return this.preferences&&this.preferences.search_query||""},viewType:function(){return this.preferences&&this.preferences.view_type||"tabular"},viewQuery:function(){return this.preferences&&this.preferences.view_query&&this.preferences.view_query[this.viewType]||{}},viewOptions:function(){return this.preferences&&this.preferences.view_options&&this.preferences.view_options[this.viewType]||{}},resultCopy:function(){if(!this.meta||!this.preferences)return this.$t("loading");var t=!this.$lodash.isEmpty(this.preferences.filters)||!this.$lodash.isNil(this.preferences.search_query)&&this.preferences.search_query.length>0;return t?this.$tc("item_count_filter",this.meta.result_count,{count:this.$n(this.meta.result_count)}):this.$tc("item_count",this.meta.total_count,{count:this.$n(this.meta.total_count)})},fieldNames:function(){return this.fields.map(function(t){return t.field})},listingNames:function(){var t=this;if(!this.$store.state.extensions.listings)return{};var e={};return Object.keys(this.$store.state.extensions.listings).forEach(function(n){e[n]=t.$store.state.extensions.listings[n].name}),e}},methods:{cancelBookmark:function(){this.bookmarkTitle="",this.bookmarkModal=!1},setViewQuery:function(t){var e=Object(At["a"])({},this.preferences.view_query,Object(vo["a"])({},this.viewType,Object(At["a"])({},this.viewQuery,t)));this.updatePreferences("view_query",e)},setViewOptions:function(t){var e=Object(At["a"])({},this.preferences.view_options,Object(vo["a"])({},this.viewType,Object(At["a"])({},this.viewOptions,t)));this.updatePreferences("view_options",e)},updatePreferences:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i&&(e=Object(At["a"])({},this.preferences[t],e)),this.$set(this.preferences,t,e);var s=null==this.preferences.user;if(s)return this.createCollectionPreset();var a=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:a}),this.$api.updateCollectionPreset(this.preferences.id,Object(vo["a"])({},t,e)).then(function(){n.$store.dispatch("loadingFinished",a)}).catch(function(t){n.$store.dispatch("loadingFinished",a),n.$events.emit("error",{notify:n.$t("something_went_wrong_body"),error:t})})},createCollectionPreset:function(){var t=this,e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),this.$api.createCollectionPreset(Object(At["a"])({},this.preferences,{collection:this.collection,user:this.$store.state.currentUser.id})).then(function(n){var i=n.data;t.$store.dispatch("loadingFinished",e),t.$set(t.preferences,"id",i.id)}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},clearFilters:function(){this.updatePreferences("filters",null),this.updatePreferences("search_query",null)},remove:function(){var t=this,e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteItems(this.collection,this.selection).then(function(){t.$store.dispatch("loadingFinished",e),t.$refs.listing.getItems()}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})}),this.confirmRemove=!1},saveBookmark:function(){var t=this,e=Object(At["a"])({},this.preferences);e.user=this.$store.state.currentUser.id,e.title=this.bookmarkTitle,delete e.id,delete e.role,e.collection||(e.collection=this.collection);var n=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:n}),this.$store.dispatch("saveBookmark",e).then(function(){t.$store.dispatch("loadingFinished",n),t.bookmarkModal=!1,t.bookmarkTitle=""}).catch(function(e){t.$store.dispatch("loadingFinished",n),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})},uploadFiles:function(){var t=this,e=new FormData;Array.from(this.files).forEach(function(t){return e.append("file",t)});var n=Qr.a.generate();return vr.dispatch("loadingStart",{id:n}),this.$api.uploadFiles(e).then(function(){vr.dispatch("loadingFinished",n),t.key=Qr.a.generate(),t.newModal=!1,t.files=[],t.previewSrc=null}).catch(function(e){vr.dispatch("loadingFinished",n),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})},stageFile:function(t){this.files=t.target.files,this.previewSrc=URL.createObjectURL(t.target.files[0])}},watch:{$route:function(){this.$route.query.b&&this.$router.replace({path:this.$route.path})}},beforeRouteEnter:function(t,e,n){var i=this,s="directus_files",a=vr.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===a)return n(function(t){return t.notFound=!0});if(a&&a.single)return n("/collections/".concat(s,"/1"));var o=Qr.a.generate();return vr.dispatch("loadingStart",{id:o}),Promise.all([wr.getMyListingPreferences(s),wr.getFields(s)]).then(function(t){var e=Object(Kr["a"])(t,2),n=e[0],i=e[1];return{preferences:n,fields:i.data.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})})}}).then(function(t){var e=t.preferences,i=t.fields;vr.dispatch("loadingFinished",o),n(function(t){t.$data.preferences=e,t.$data.fields=i})}).catch(function(t){vr.dispatch("loadingFinished",o),i.$events.emit("error",{notify:i.$t("something_went_wrong_body"),error:t})})},beforeRouteUpdate:function(t,e,n){var i=this,s="directus_files";this.preferences=null,this.fields=[],this.selection=[],this.meta={},this.notFound=!1;var a=this.$store.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===a)return this.notFound=!0,n();if(a&&a.single)return n("/collections/".concat(s,"/1"));var o=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:o}),Promise.all([wr.getMyListingPreferences(s),wr.getFields(s)]).then(function(t){var e=Object(Kr["a"])(t,2),n=e[0],i=e[1];return{preferences:n,fields:i.data.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})})}}).then(function(t){var e=t.preferences,s=t.fields;i.$store.dispatch("loadingFinished",o),i.preferences=e,i.fields=s,n()}).catch(function(t){i.$store.dispatch("loadingFinished",o),i.$events.emit("error",{notify:i.$t("something_went_wrong_body"),error:t})})}}),fl=dl,hl=(n("/xLS"),Object(P["a"])(fl,cl,ul,!1,null,"4e9a04a0",null)),pl=hl.exports,ml=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.notFound?n("v-not-found"):t.error?n("div",[n("v-header-bar"),t.error?n("v-error",{attrs:{icon:"error_outline",color:"warning",title:t.$t("server_trouble"),body:t.$t("server_trouble_copy")}}):t._e()],1):null===t.fields?n("div",[n("v-header-bar"),n("v-loader",{attrs:{area:"content"}})],1):n("div",{staticClass:"edit"},[n("v-header-bar",{attrs:{breadcrumb:t.breadcrumb,"info-toggle":!t.newItem}},[n("template",{slot:"buttons"},[t.newItem||t.singleItem?t._e():n("v-header-button",{attrs:{icon:"close",color:"danger",label:t.$t("delete")},on:{click:function(e){t.confirmRemove=!0}}}),n("v-header-button",{attrs:{disabled:!t.editing,loading:t.saving,label:t.$t("save"),options:{stay:t.$t("save_and_stay"),add:t.$t("save_and_add"),copy:t.$t("save_as_copy")},icon:"check",color:"action"},on:{click:function(e){t.save("leave")},input:t.save}})],1)],2),t.newItem?t._e():n("v-info-sidebar",{attrs:{wide:""}},[n("div",{staticClass:"tabs"},[n("button",{class:{active:"both"===t.activeTab},on:{click:function(e){t.activeTab="both"}}},[t._v(t._s(t.$t("both")))]),n("button",{class:{active:"comments"===t.activeTab},on:{click:function(e){t.activeTab="comments"}}},[t._v(t._s(t.$t("comments")))]),n("button",{class:{active:"activity"===t.activeTab},on:{click:function(e){t.activeTab="activity"}}},[t._v(t._s(t.$t("activity")))])]),n("v-activity-overview",{attrs:{activity:t.activity,revisions:t.revisions,loading:t.activityLoading,show:t.activeTab},on:{input:t.postComment}})],1),n("v-edit-form",{attrs:{fields:t.fields,values:t.values,collection:t.collection,"batch-mode":t.batch},on:{"unstage-value":t.unstageValue,"stage-value":t.stageValue}}),t.confirmRemove?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{message:t.$t("delete_are_you_sure"),busy:t.confirmRemoveLoading},on:{cancel:function(e){t.confirmRemove=!1},confirm:t.remove}})],1):t._e(),t.confirmNavigation?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{message:t.$t("unsaved_changes_copy"),"confirm-text":t.$t("keep_editing"),"cancel-text":t.$t("discard_changes")},on:{confirm:function(e){t.confirmNavigation=!1},cancel:function(e){t.$router.push(t.leavingTo)}}})],1):t._e()],1)},vl=[],gl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0===t.fieldsGrouped.length?n("v-error",{attrs:{title:t.$t("no_fields"),body:t.$t("no_fields_body"),icon:"error_outline"}}):n("form",{staticClass:"edit-form flex-group"},t._l(t.fieldsGrouped,function(e){return n("div",{key:e.field,class:[t.isGroup(e)?null:"col-"+(e.view_width||4),t.isGroup(e)?"group":"field"]},[t.isGroup(e)?n("v-group",{attrs:{values:t.values,field:e,readonly:t.readonly,"batch-mode":t.batchMode,"active-fields":t.activeFields},on:{activate:t.activateField,deactivate:t.deactivateField,"stage-value":function(e){t.$emit("stage-value",e)}}}):n("v-field",{attrs:{field:e,values:t.values,fields:t.fields,readonly:t.readonly,blocked:t.batchMode&&!t.activeFields.includes(e.field),"batch-mode":t.batchMode},on:{activate:t.activateField,deactivate:t.deactivateField,"stage-value":function(e){t.$emit("stage-value",e)}}})],1)}))},_l=[],yl=(n("INYr"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-field"},[n(t.fieldset?"fieldset":"p",{tag:"component"},[n("div",[n("div",{staticClass:"label"},[n(t.fieldset?"legend":"label",{tag:"component",attrs:{for:t.field.field}},[t._v("\n          "+t._s(t.field.name)),t.field.required?n("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("required"),expression:"$t('required')"}],staticClass:"material-icons"},[t._v("star")]):t._e()]),t.batchMode?n("label",[n("v-toggle",{attrs:{value:!t.blocked},on:{input:function(e){t.$emit(t.blocked?"activate":"deactivate",t.field.field)}}})],1):t._e()],1),!t.readonly&&t.field.comment?n("small",[t._v(t._s(t.field.comment))]):t._e(),n("div",{staticClass:"field-wrapper"},[n("v-interface",{attrs:{id:t.field.interface,name:t.field.field,required:Boolean(t.field.required),readonly:t.readonly||t.blocked,options:t.field.options,type:t.field.type,value:t.values[t.field.field],relationship:t.field.relationship,fields:t.fields,values:t.values},on:{input:function(e){!t.readonly&&t.$emit("stage-value",{field:t.field.field,value:e})},setfield:function(e){!t.readonly&&t.$emit("stage-value",{field:e.field,value:e.value})}}}),t.blocked?n("div",{staticClass:"blocker",on:{click:function(e){t.$emit("activate",t.field.field)}}}):t._e()],1)])])],1)}),bl=[],$l={name:"v-field",props:{field:{type:Object,required:!0},values:{type:Object,required:!0},readonly:{type:Boolean,default:!1},blocked:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},fields:{type:Object,required:!0}},computed:{fieldset:function(){var t=this.$store.state.extensions.interfaces[this.field.interface];return t&&t.fieldset||!1}}},kl=$l,wl=(n("sgAd"),Object(P["a"])(kl,yl,bl,!1,null,"02952bfe",null)),Cl=wl.exports,Ol=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-interface",{staticClass:"v-group",attrs:{id:t.field.field,name:t.field.field,options:t.field.options,type:t.field.type}},[n("div",{staticClass:"flex-group"},t._l(t.field.children,function(e){return n("div",{key:e.field,class:[t.isGroup(e)?null:"col-"+e.view_width,t.isGroup(e)?"group":"field"]},[t.isGroup(e)?n("v-group",{attrs:{values:t.values,field:e},on:{"stage-value":function(e){t.$emit("stageValue",e)}}}):n("v-field",{attrs:{readonly:t.readonly,values:t.values,field:e,blocked:t.batchMode&&!t.activeFields.includes(t.field.field),"batch-mode":t.batchMode},on:{activate:function(e){t.$emit("activate",e)},deactivate:function(e){t.$emit("deactivate",e)},"stage-value":function(e){t.$emit("stageValue",e)}}})],1)}))])},xl=[],jl={name:"v-group",components:{VField:Cl},props:{values:{type:Object,required:!0},field:{type:Object,required:!0},readonly:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},activeFields:{type:Array,default:function(){return[]}}},methods:{isGroup:function(t){return t.children&&Array.isArray(t.children)}}},Sl=jl,El=Object(P["a"])(Sl,Ol,xl,!1,null,null,null),Fl=El.exports,Nl={name:"edit-form",components:{VField:Cl,VGroup:Fl,VError:Ws},props:{fields:{type:Object,required:!0},values:{type:Object,required:!0},readonly:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1}},data:function(){return{activeFields:[]}},computed:{fieldsGrouped:function(){var t=this,e=Object.values(this.fields),n=e.filter(function(t){return"group"===t.type.toLowerCase()}).map(function(t){return Object(At["a"])({},t,{children:[]})}),i=e.filter(function(t){return"group"!==t.type.toLowerCase()});return i.forEach(function(e){if(null!=e.group){var i=t.$lodash.findIndex(n,function(t){return t.id===e.group});return n[i].children.push(e)}return n.push(e)}),n.filter(function(t){return!1===t.hidden_input})}},methods:{isGroup:function(t){return t.children&&Array.isArray(t.children)},activateField:function(t){this.batchMode&&(this.activeFields=Object(ct["a"])(this.activeFields).concat([t]))},deactivateField:function(t){this.batchMode&&(this.activeFields=this.activeFields.filter(function(e){return e!==t}),this.$emit("unstage-value",t))}}},ql=Nl,Tl=(n("ifWO"),Object(P["a"])(ql,gl,_l,!1,null,null,null)),Pl=Tl.exports,Il=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-activity-overview"},[n("form",{directives:[{name:"show",rawName:"v-show",value:"activity"!==t.show,expression:"show !== 'activity'"}],staticClass:"new-comment",on:{submit:function(e){return e.preventDefault(),t.postComment(e)}}},[n("v-textarea",{staticClass:"textarea",attrs:{rows:5,required:"",placeholder:t.$t("leave_comment")},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),n("button",{attrs:{type:"submit"}},[t._v(t._s(t.$t("submit")))])],1),t._l(t.activityWithChanges,function(e,i){return n("article",{key:e.id,staticClass:"activity-item"},["comment"===e.type?n("i",{staticClass:"material-icons"},[t._v("message")]):n("span",{staticClass:"indicator",class:e.action,attrs:{title:e.action}}),n("div",{staticClass:"content"},["external"!==e.action&&e.changes&&e.name?n("details",[n("summary",{staticClass:"title"},[t._v(t._s(e.name)),e.date?n("span",[t._v("•")]):t._e(),e.date?n("v-timeago",{staticClass:"date",attrs:{"auto-update":1,since:e.date,locale:t.$i18n.locale}}):t._e(),n("i",{staticClass:"material-icons chevron"},[t._v("chevron_left")])],1),e.changes?n("div",[t._l(e.changes,function(e){var i=e.field,s=e.before,a=e.after;return n("div",{key:i,staticClass:"change"},[n("p",[t._v(t._s(t.$helpers.formatTitle(i)))]),n("div",{staticClass:"diff"},[n("div",{staticClass:"before",class:{empty:!s}},[t._v(t._s(s||"--"))]),n("div",{staticClass:"after",class:{empty:!a}},[t._v(t._s(a||"--"))])])])}),0!==i?n("button",{staticClass:"revert"},[t._v(t._s(t.$t("revert")))]):t._e()],2):t._e()]):e.name?n("div",{staticClass:"title"},[t._v(t._s(e.name)),e.date?n("span",[t._v("•")]):t._e(),e.date?n("v-timeago",{staticClass:"date",attrs:{"auto-update":1,since:e.date,locale:t.$i18n.locale}}):t._e()],1):t._e(),e.htmlcomment?n("p",{domProps:{innerHTML:t._s(e.htmlcomment)}}):t._e()])])})],2)},Al=[],Bl=n("7N6H"),Ll={name:"v-activity-overview",components:{EditForm:Pl},data:function(){return{comment:""}},props:{activity:{type:Array,required:!0},revisions:{type:Object,required:!0},loading:{type:Boolean,default:!1},show:{type:String,default:"both"}},computed:{activityFiltered:function(){switch(this.show){case"comments":return this.activity.filter(function(t){return null!==t.comment});case"activity":return this.activity.filter(function(t){return null===t.comment});case"both":default:return this.activity}},activityWithChanges:function(){var t=this,e=this.activityFiltered.map(function(e,n){return Object(At["a"])({},e,{changes:t.getChanges(e.id,n),revision:t.revisions[e.id]})}),n=e&&e[e.length-1];return n&&("entry"===n.type.toLowerCase()&&"add"===n.action.toLowerCase()||"comments"===this.show)||e.push({action:"external",comment:this.$t("activity_outside_directus"),id:-1}),e.map(function(t){return Object(At["a"])({},t,{htmlcomment:Object(Bl["a"])((t.comment||"").replace(/#/g,"")||"")})})}},methods:{getChanges:function(t,e){var n=this.revisions[t];if(!n)return null;for(var i=null,s=e+1;s<this.activityFiltered.length;s++)if("update"===this.activityFiltered[s].action||"add"===this.activityFiltered[s].action){i=this.activityFiltered[s];break}if(!i)return null;var a=this.revisions[i.id],o=a&&a.data||{},r=n.delta;return this.$lodash.mapValues(r,function(t,e){return{before:o[e],after:t,field:e}})},postComment:function(){this.$emit("input",this.comment),this.comment=""}}},Vl=Ll,Rl=(n("NMD+"),Object(P["a"])(Vl,Il,Al,!1,null,"710303d5",null)),Dl=Rl.exports,Ml={name:"edit",metaInfo:function(){return{title:this.$t("editing",{collection:this.collection})}},components:{VEditForm:Pl,VLoader:M,VNotFound:sl,VError:Ws,VActivityOverview:Dl},props:{collection:{type:String,required:!0},primaryKey:{type:null,required:!0}},data:function(){return{saving:!1,fields:null,notFound:!1,error:!1,confirmRemove:!1,confirmRemoveLoading:!1,confirmNavigation:!1,leavingTo:"",collectionInfo:null,activeTab:"both",activityLoading:!1,activity:[],revisions:{}}},computed:{breadcrumb:function(){return this.collection.startsWith("directus_")?[{name:this.$t("collections-".concat(this.collection)),path:"/".concat(this.collection.substring(9))},{name:this.newItem?this.$t("creating_item"):this.$t("editing_item"),path:this.$route.path}]:this.singleItem?[{name:this.$t("collections"),path:"/collections"},{name:this.$t("editing_single",{collection:this.$helpers.formatTitle(this.collection)}),path:this.$route.path}]:[{name:this.$t("collections"),path:"/collections"},{name:this.$t("collections-".concat(this.collection)),path:"/collections/".concat(this.collection)},{name:this.newItem?this.$t("creating_item"):this.$t("editing_item"),path:this.$route.path}]},values:function(){var t=this.$lodash.mapValues(this.fields,function(t){return t.default_value}),e=this.$store.state.edits.values;return Object(At["a"])({},t,this.savedValues||{},e)},editing:function(){return this.$store.getters.editing},savedValues:function(){return this.$store.state.edits.savedValues},newItem:function(){return"+"===this.primaryKey},singleItem:function(){return this.collectionInfo&&!0===this.collectionInfo.single},primaryKeyField:function(){return this.$lodash.find(this.fields,{interface:"primary-key"}).field},batch:function(){return this.primaryKey.includes(",")}},created:function(){this.fetchActivity()},watch:{$route:function(){this.fetchActivity()}},methods:{stageValue:function(t){var e=t.field,n=t.value;this.$store.dispatch("stageValue",{field:e,value:n})},unstageValue:function(t){this.$store.dispatch("unstageValue",t)},remove:function(){var t=this;this.confirmRemoveLoading=!0;var e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteItem(this.collection,this.primaryKey).then(function(){t.$store.dispatch("loadingFinished",e),t.$notify.confirm(t.$t("item_deleted")),t.confirmRemoveLoading=!1,t.confirmRemove=!1,t.$router.push("/collections/".concat(t.collection))}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},save:function(t){var e=this;if(this.saving=!0,"copy"===t){var n=Object.assign({},this.values),i="";this.$lodash.forEach(this.fields,function(t,e){!0===t.primary_key&&(i=e)}),delete n[i];var s=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:s}),this.$store.dispatch("save",{primaryKey:"+",values:n}).then(function(t){return e.$store.dispatch("loadingFinished",s),e.saving=!1,t.data[e.primaryKeyField]}).then(function(t){return e.$notify.confirm(e.$t("item_saved")),e.collection.startsWith("directus_")?e.$router.push("/".concat(e.collection.substring(9),"/").concat(t)):e.$router.push("/collections/".concat(e.collection,"/").concat(t))}).catch(function(t){e.$store.dispatch("loadingFinished",s),e.$events.emit("error",{notify:e.$t("something_went_wrong_body"),error:t})})}var a=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:a}),this.$store.dispatch("save").then(function(t){return t.data}).then(function(t){return e.$store.dispatch("loadingFinished",a),e.saving=!1,t}).then(function(n){if(e.$notify.confirm(e.$t("item_saved")),"leave"===t)return e.collection.startsWith("directus_")?e.$router.push("/".concat(e.collection.substring(9))):e.$router.push("/collections/".concat(e.collection));if("stay"===t){if(e.fetchActivity(),e.newItem){var i=n[e.primaryKeyField];return e.$router.push("/collections/".concat(e.collection,"/").concat(i))}e.$store.dispatch("startEditing",{collection:e.collection,primaryKey:e.primaryKey,savedValues:n})}return"add"===t?e.collection.startsWith("directus_")?e.$router.push("/".concat(e.collection.substring(9),"/+")):e.$router.push("/collections/".concat(e.collection,"/+")):void 0}).catch(function(t){e.saving=!1,e.$store.dispatch("loadingFinished",a),e.$events.emit("error",{notify:e.$t("something_went_wrong_body"),error:t})})},fetchActivity:function(){var t=this;this.activity=[],this.revisions={},this.activeTab="both",this.activityLoading=!0;var e=Qr.a.generate();vr.dispatch("loadingStart",{id:e}),Promise.all([this.$api.getActivity({"filter[collection][eq]":this.collection,"filter[item][eq]":this.primaryKey,fields:"id,action,type,datetime,comment,user.first_name,user.last_name",sort:"-datetime"}),this.$api.getItemRevisions(this.collection,this.primaryKey)]).then(function(t){var n=Object(Kr["a"])(t,2),i=n[0],s=n[1];return vr.dispatch("loadingFinished",e),{activity:i.data,revisions:s.data}}).then(function(e){var n=e.activity,i=e.revisions;return{activity:n.map(function(t){var e=new Date(t.datetime),n="".concat(t.user.first_name," ").concat(t.user.last_name);return{id:t.id,date:e,name:n,action:t.action.toLowerCase(),type:t.type.toLowerCase(),comment:t.comment}}),revisions:t.$lodash.keyBy(i,"activity")}}).then(function(e){var n=e.activity,i=e.revisions;t.activity=n,t.revisions=i,t.activityLoading=!1}).catch(function(n){vr.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},postComment:function(t){var e=this,n=Qr.a.generate();vr.dispatch("loadingStart",{id:n}),this.$api.post("/activity/comment",{collection:this.collection,item:this.primaryKey,comment:t}).then(function(t){return t.data}).then(function(t){vr.dispatch("loadingFinished",n),e.activity=[t].concat(Object(ct["a"])(e.activity))}).catch(function(t){vr.dispatch("loadingFinished",n),e.$events.emit("error",{notify:e.$t("something_went_wrong_body"),error:t})})}},beforeRouteEnter:function(t,e,n){var i=t.params,s=i.collection,a=i.primaryKey,o=Object.keys(vr.state.collections).includes(s)||s.startsWith("directus_"),r="+"===a;if(!1===o)return this.notFound=!0,n(function(t){return t.$data.notFound=!0});var l=Qr.a.generate();return vr.dispatch("loadingStart",{id:l}),Promise.all([wr.getFields(s),wr.getCollectionRelations(s),r?null:wr.getItem(s,a)]).then(function(t){var e=Object(Kr["a"])(t,3),n=e[0],i=e[1],s=e[2];return vr.dispatch("loadingFinished",l),{fields:n.data,relations:i[0].data,item:s&&s.data||null}}).then(function(t){var e=t.fields,n=t.relations,i=t.item;return vr.dispatch("startEditing",{collection:s,primaryKey:a,savedValues:r?null:i}),{fields:e,relations:n}}).then(function(t){var e=t.fields,n=t.relations;function i(t){var e=t.field,i=n.filter(function(t){return t.field_a===e}).map(function(t){return{collection:t.collection_b,field:t.field_b}});return 0===i.length?null:i[0]}return{fields:Object(f["mapValues"])(Object(f["keyBy"])(e,"field"),function(t){return Object(At["a"])({},t,{name:Ho()(t.field),relationship:i(t)})})}}).then(function(t){return n(function(e){Object.assign(e.$data,t)})}).catch(function(t){return Nr.emit("error",{notify:Oo.t("something_went_wrong_body"),error:t}),n(function(t){return t.$data.error=!0})})},beforeRouteLeave:function(t,e,n){return!1===this.$store.getters.editing?n():!0===this.confirmNavigation?(this.$store.dispatch("discardChanges"),n()):(this.confirmNavigation=!0,this.leavingTo=t.fullPath,n(!1))}},Ul=Ml,Kl=(n("7BE2"),Object(P["a"])(Ul,ml,vl,!1,null,"7a12efd6",null)),zl=Kl.exports,Ql=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"login",class:{loading:t.loading}},[i("form",{on:{submit:function(e){return e.preventDefault(),t.processForm(e)}}},[i("img",{staticClass:"logo",attrs:{alt:"",src:n("IiQu")}}),t.loading?i("h1",[t._v(t._s(t.loggedIn?t.$t("fetching_data"):t.$t("signing_in")))]):i("h1",[t._v(t._s(t.resetMode?t.$t("reset_password"):t.$t("sign_in")))]),i("label",{staticClass:"project-switcher"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],attrs:{disabled:t.loading},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.url=e.target.multiple?n:n[0]}}},t._l(t.urls,function(e,n){return i("option",{key:n,domProps:{value:n}},[t._v("\n            "+t._s(e)+"\n          ")])})),t._v("\n        "+t._s(t.$t("to"))+" "),i("span",[t._v(t._s(t.$helpers.formatTitle(t.urls[t.url]||t.$t("choose_project")))+" "),i("i",{staticClass:"material-icons"},[t._v("arrow_drop_down")])])]),i("div",{staticClass:"material-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:{"has-value":t.email&&t.email.length>0},attrs:{disabled:t.loading,type:"text",id:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("label",{attrs:{for:"email"}},[t._v(t._s(t.$t("email")))])]),t.resetMode?t._e():i("div",{staticClass:"material-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:{"has-value":t.password&&t.password.length>0},attrs:{disabled:t.loading,type:"password",id:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("label",{attrs:{for:"password"}},[t._v(t._s(t.$t("password")))])]),i("div",{staticClass:"buttons"},[i("button",{staticClass:"forgot",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.resetMode=!t.resetMode}}},[t._v("\n          "+t._s(t.resetMode?t.$t("sign_in"):t.$t("forgot_password"))+"\n        ")]),i("button",{staticClass:"style-btn",attrs:{type:"submit",disabled:t.disabled||t.loading}},[t._v("\n          "+t._s(t.resetMode?t.$t("reset_password"):t.$t("sign_in"))+"\n        ")])]),i("transition-group",{staticClass:"stack",attrs:{name:"list",tag:"div"}},[t.checkingExistence||t.gettingThirdPartyAuthProviders?i("v-spinner",{key:"spinner",staticClass:"spinner",attrs:{size:18,"line-size":2,"line-fg-color":"var(--gray)","line-bg-color":"var(--lighter-gray)"}}):t.error?i("span",{key:"error",staticClass:"notice",class:t.errorType},[i("i",{staticClass:"material-icons"},[t._v(t._s(t.errorType))]),t._v("\n          "+t._s(t.errorMessage)+"\n        ")]):t.thirdPartyAuthProviders&&!t.thirdPartyAuthProviders.length?i("i",{key:"lock",staticClass:"material-icons lock"},[t._v(t._s(t.loggedIn?"lock_open":"lock_outline"))]):i("ul",{key:"third-party-auth",staticClass:"third-party-auth"},t._l(t.thirdPartyAuthProviders,function(e){return i("li",{key:e.name},[i("a",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$helpers.formatTitle(e.name),expression:"$helpers.formatTitle(provider.name)",modifiers:{bottom:!0}}],attrs:{href:t.url+"/_/auth/sso/"+e.name}},[i("img",{attrs:{alt:e.name,src:e.icon}})])])}))],1)],1),i("small",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.version,expression:"version"}],staticClass:"style-4"},[t._v(t._s(t.$t("powered_by_directus")))])])])},Wl=[],Gl=n("kiQV"),Hl={name:"login",data:function(){return{url:null,email:null,password:null,loading:!1,loggedIn:!1,error:null,exists:null,checkingExistence:!1,thirdPartyAuthProviders:null,gettingThirdPartyAuthProviders:!1,resetMode:!1}},computed:{urls:function(){if(window.__DirectusConfig__)return window.__DirectusConfig__.api},version:function(){return"".concat(this.$t("version")," v").concat(Gl["a"])},storeError:function(){return this.$store.state.auth.error},errorType:function(){if(this.error)return+this.error.code>=100&&+this.error.code<200?101===+this.error.code||102===+this.error.code?null:"warning":"error"},errorMessage:function(){if(this.error)return this.localeMessages.errors&&null!=this.localeMessages.errors[this.error.code]?this.$t("errors[".concat(this.error.code,"]")):this.$t("error_unknown")},localeMessages:function(){return this.$i18n.getLocaleMessage(this.$i18n.locale)},disabled:function(){return this.resetMode?null===this.email||0===this.email.length:null===this.email||null===this.password||(0===this.email.length||0===this.password.length)}},created:function(){this.checkUrl=this.$lodash.debounce(this.checkUrl,300),this.url&&this.checkUrl();var t=this.$store.state.auth.url;this.url=t||Object.keys(window.__DirectusConfig__.api)[0]||"",this.trySSOLogin()},watch:{url:function(){this.exists=null,this.checkUrl()},exists:function(t,e){!0===t&&t!==e&&this.getThirdPartyAuthProviders()},$route:function(){this.trySSOLogin()},storeError:function(t){this.error=t},error:function(){var t=this;setTimeout(function(){t.error=null},1e4)}},methods:{processForm:function(){var t=this;if(this.resetMode)this.loading=!0,this.$axios.post(this.url+"/_/auth/password/request",{email:this.email}).then(function(){t.loading=!1,t.$notification.confirm(t.$t("password_reset_sent",{email:t.email}))}).catch(function(e){t.error=e,t.loading=!1});else{var e={url:this.url,email:this.email,password:this.password};this.loading=!0,this.$store.dispatch("login",e).then(function(){t.loggedIn=!0,t.enterApp()}).catch(function(){t.loading=!1})}},enterApp:function(){var t=this;if(this.$route.query.redirect)return this.$router.push(this.$route.query.redirect);this.$api.getMe({fields:"last_page"}).then(function(t){return t.data.last_page}).then(function(e){t.$router.push(e||"/")}).catch(function(e){t.loading=!1,t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e}),t.$router.push("/")})},checkUrl:function(){var t=this;if(this.url){this.checkingExistence=!0,this.exists=!1,this.thirdPartyAuthProviders=null,this.error=null;var e=new ga.a;e.url=this.url,e.ping().then(function(){t.exists=!0,t.checkingExistence=!1}).catch(function(){t.exists=!1,t.checkingExistence=!1})}},getThirdPartyAuthProviders:function(){var t=this;this.gettingThirdPartyAuthProviders=!0,this.thirdPartyAuthProviders=null;var e=new ga.a;e.url=this.url,e.getThirdPartyAuthProviders().then(function(t){return t.data}).then(function(e){t.thirdPartyAuthProviders=e,t.gettingThirdPartyAuthProviders=!1}).catch(function(e){t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e}),t.gettingThirdPartyAuthProviders=!1})},trySSOLogin:function(){var t=this;if(this.$route.query.error){this.error=this.$route.query.error;var e=window.location.toString();if(e.indexOf("?")>0){var n=e.substring(0,e.indexOf("?"));window.history.replaceState({},document.title,n)}return null}this.$route.query.request_token&&this.$route.query.request_token.length>0&&this.$store.dispatch("loginSSO",this.$route.query.request_token).then(function(){return t.enterApp()}).catch(function(e){t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})}}},Zl=Hl,Jl=(n("FIfs"),Object(P["a"])(Zl,Ql,Wl,!1,null,"64eae0b8",null)),Yl=Jl.exports,Xl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interfaces"},[n("v-header-bar",{attrs:{title:"Interfaces"}}),n("v-table",{attrs:{columns:t.columns,items:t.items,link:"__link","primary-key-field":"id"}})],1)},tc=[],ec={metaInfo:function(){return{title:"Interfaces"}},computed:{items:function(){var t=this;return Object.keys(this.$store.state.extensions.interfaces).map(function(e){return Object(At["a"])({},t.$store.state.extensions.interfaces[e],{__link:"/interfaces/".concat(e)})})},columns:function(){return[{field:"name",name:"Name"},{field:"id",name:"id"},{field:"version",name:"Version"}]}}},nc=ec,ic=Object(P["a"])(nc,Xl,tc,!1,null,null,null),sc=ic.exports,ac=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interface-debugger"},[n("v-header-bar",{attrs:{breadcrumb:t.links}}),n("div",{staticClass:"interface",style:{width:t.width+"px"}},[n("v-interface",{attrs:{id:t.id,name:t.id,type:t.type,length:t.length,readonly:t.readonly,required:t.required,loading:t.loading,options:t.options,"new-item":t.newItem,relationship:t.relationship,fields:t.fields,values:t.values},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n("form",{on:{submit:function(t){t.preventDefault()}}},[n("fieldset",[n("legend",[t._v("Output")]),n("label",{attrs:{for:"value"}},[t._v("Value")]),n("v-input",{staticClass:"value",attrs:{id:"value",type:"text"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),n("label",[t._v("Listing")]),n("div",{staticClass:"listing"},[n("v-readonly",{attrs:{"interface-type":t.id,name:t.id,type:t.type,length:t.length,readonly:t.readonly,required:t.required,loading:t.loading,options:t.options,"new-item":t.newItem,relationship:t.relationship},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1),n("fieldset",[n("legend",[t._v("Settings")]),n("div",{staticClass:"settings"},[n("label",{attrs:{for:"type"}},[t._v("Type")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{id:"type"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.type=e.target.multiple?n:n[0]}}},t._l(t.extension.datatypes,function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v(t._s(i))])}))]),n("div",{staticClass:"settings"},[n("label",{attrs:{for:"length"}},[t._v("Length")]),n("v-input",{staticClass:"length",attrs:{id:"length",type:"number",min:0},model:{value:t.length,callback:function(e){t.length=e},expression:"length"}})],1),n("div",{staticClass:"settings"},[n("v-checkbox",{staticClass:"checkbox",attrs:{id:"readonly",value:"readonly",type:"checkbox"},model:{value:t.readonly,callback:function(e){t.readonly=e},expression:"readonly"}}),n("label",{staticClass:"inline",attrs:{for:"readonly"}},[t._v("Read only")])],1),n("div",{staticClass:"settings"},[n("v-checkbox",{staticClass:"checkbox",attrs:{id:"required",value:"required",type:"checkbox"},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}}),n("label",{staticClass:"inline",attrs:{for:"required"}},[t._v("Required")])],1),n("div",{staticClass:"settings"},[n("v-checkbox",{staticClass:"checkbox",attrs:{id:"loading",value:"loading",type:"checkbox"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),n("label",{staticClass:"inline",attrs:{for:"loading"}},[t._v("Loading")])],1),n("div",{staticClass:"settings"},[n("label",{attrs:{for:"related"}},[t._v("Related Collection")]),n("v-input",{attrs:{id:"related",type:"text"},model:{value:t.relatedCollection,callback:function(e){t.relatedCollection=e},expression:"relatedCollection"}})],1),n("div",{staticClass:"settings"},[n("label",{attrs:{for:"related-pk"}},[t._v("Related Collection Primary Key Field")]),n("v-input",{attrs:{id:"related-pk",type:"text"},model:{value:t.relatedCollectionPrimaryKey,callback:function(e){t.relatedCollectionPrimaryKey=e},expression:"relatedCollectionPrimaryKey"}})],1)]),n("fieldset",[n("legend",[t._v("Options")]),t._l(t.extension.options,function(e,i){return n("div",{key:i,staticClass:"options"},[n("label",{attrs:{for:i}},[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.comment))]),n("v-interface",{attrs:{id:e.interface,name:i,type:e.type,length:e.length,readonly:e.readonly,required:e.required,loading:e.loading,options:e.options},model:{value:t.options[i],callback:function(e){t.$set(t.options,i,e)},expression:"options[optionID]"}})],1)})],2),n("fieldset",[n("legend",[t._v("Misc.")]),n("div",{staticClass:"misc"},[n("v-checkbox",{staticClass:"checkbox",attrs:{id:"new",value:"newItem",type:"checkbox"},model:{value:t.newItem,callback:function(e){t.newItem=e},expression:"newItem"}}),n("label",{staticClass:"inline",attrs:{for:"new"}},[t._v("New item")])],1),n("div",{staticClass:"misc"},[n("label",{attrs:{for:"fields"}},[t._v("Fields")]),n("v-interface",{attrs:{value:JSON.stringify(t.fields),id:"json",name:"fields"},on:{input:function(e){t.fields=JSON.parse(e)}}}),n("label",{attrs:{for:"values"}},[t._v("Values")]),n("v-interface",{attrs:{value:JSON.stringify(t.values),id:"json",name:"value s"},on:{input:function(e){t.values=JSON.parse(e)}}})],1)])])],1)},oc=[],rc={name:"interface-debugger",metaInfo:function(){return{title:"Interface Debugger"}},props:{id:{type:String,required:!0}},data:function(){return{type:null,length:null,value:null,readonly:!1,required:!1,loading:!1,options:{},width:1e3,newItem:!1,relatedCollection:"",relatedCollectionPrimaryKey:"",fields:{name:{collection:"movies",default_value:null,field:"name",group:null,hidden_input:!1,hidden_list:!1,id:154,interface:"text-input",length:"100",locked:!1,managed:!0,name:"Name",note:null,options:null,primary_key:!1,readonly:!1,relationship:null,required:!1,signed:null,sort:"10",translation:null,type:"VARCHAR",validation:null,view_width:4},director:{collection:"movies",default_value:null,field:"director",group:null,hidden_input:!1,hidden_list:!1,id:161,interface:"text-input",length:"100",locked:!1,managed:!0,name:"Director",note:null,options:null,primary_key:!1,readonly:!1,relationship:null,required:!1,signed:null,sort:"9",translation:null,type:"VARCHAR",validation:null,view_width:4}},values:{name:"Directus The Movie",director:"Ben Spielberg"}}},computed:{links:function(){return[{name:"Interfaces",path:"/interfaces"},{name:this.extension.name,path:"/interfaces/".concat(this.id)}]},extension:function(){return this.$store.state.extensions.interfaces[this.id]},relationship:function(){return this.relatedCollection.length>0&&this.relatedCollectionPrimaryKey.length>0?{collection:this.relatedCollection,field:this.relatedCollectionPrimaryKey}:null}},watch:{id:function(){this.hydrate()},type:function(){this.length=this.extension.datatypes[this.type]}},created:function(){this.hydrate()},methods:{hydrate:function(){this.type=Object.keys(this.extension.datatypes)[0];var t=this.$lodash.mapValues(this.extension.options,function(t){return t.default||null});this.options=t}}},lc=rc,cc=(n("kJZm"),Object(P["a"])(lc,ac,oc,!1,null,"65a86cf8",null)),uc=cc.exports,dc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"debug"},[n("v-file-upload")],1)},fc=[],hc={metaInfo:function(){return{title:"Debugger"}}},pc=hc,mc=Object(P["a"])(pc,dc,fc,!1,null,null,null),vc=mc.exports,gc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings"},[i("v-header-bar",{attrs:{breadcrumb:t.links}}),i("v-details",{attrs:{title:t.$t("settings_interface"),type:"break",open:""}},[i("nav",[i("ul",[i("v-card",{attrs:{title:t.$t("settings_global"),subtitle:t.$tc("item_count",t.globalNum,{count:t.globalNum}),element:"li",to:"/settings/global",icon:"public"}}),i("v-card",{attrs:{title:t.$t("settings_collections_fields"),subtitle:t.$tc("collection_count",t.collectionsNum,{count:t.collectionsNum}),element:"li",to:"/settings/collections"}},[i("img",{attrs:{slot:"icon",src:n("uxmh"),alt:""},slot:"icon"})]),i("v-card",{attrs:{title:t.$t("settings_permissions"),element:"li",to:"/settings/roles",icon:"group"}}),i("v-card",{attrs:{title:t.$t("settings_extensions"),element:"li",to:"/settings/extensions",icon:"extension"}})],1)])]),i("v-details",{attrs:{title:t.$t("additional_info"),type:"break",open:""}},[i("nav",[i("ul",[i("v-card",{attrs:{title:t.$t("about_directus"),subtitle:t.$t("learn_more"),element:"li",href:"https://getdirectus.com",icon:"info_outline"}}),i("v-card",{attrs:{title:t.$t("activity_log"),element:"li",to:"/settings/activity",icon:"warning"}}),i("v-card",{attrs:{title:t.$t("connection"),element:"li",to:"/settings/connection"}},[i("v-signal",{staticClass:"signal",attrs:{slot:"icon"},slot:"icon"})],1),i("v-card",{attrs:{title:t.$t("server_details"),subtitle:t.projectName,element:"li",to:"/settings/server",icon:"storage"}}),i("v-card",{attrs:{title:t.$t("version_and_updates"),subtitle:t.version,element:"li",to:"/settings/updates",icon:"update"}})],1)])])],1)},_c=[],yc={name:"settings",metaInfo:function(){return{title:"".concat(this.$t("settings"))}},components:{VSignal:ha},computed:{globalNum:function(){return Object.keys(this.$store.state.settings).length},collectionsNum:function(){return Object.keys(this.$store.state.collections).length},projectName:function(){return this.$store.state.auth.projectName},version:function(){return Gl["a"]},links:function(){return[{name:this.$t("settings"),path:"/settings",color:"warning"}]}}},bc=yc,$c=(n("7WO/"),Object(P["a"])(bc,gc,_c,!1,null,"63f56790",null)),kc=$c.exports,wc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-global"},[n("v-header-bar",{attrs:{breadcrumb:t.links}},[n("template",{slot:"buttons"},[n("v-header-button",{attrs:{disabled:!t.editing,loading:t.saving,label:t.$t("save"),icon:"check",color:"action"},on:{click:function(e){t.save("leave")}}})],1)],2),n("edit-form",{attrs:{fields:t.fields,values:t.settings},on:{"stage-value":t.stageValue}})],1)},Cc=[],Oc={name:"settings-global",metaInfo:function(){return{title:"".concat(this.$t("settings")," | ").concat(this.$t("settings_global"))}},components:{EditForm:Pl},data:function(){return{saving:!1,rawSettings:{},edits:{},fields:{}}},computed:{settings:function(){return this.$store.state.settings},links:function(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("settings_global"),path:"/settings/global"}]},editing:function(){return Object.keys(this.edits).length>0}},methods:{stageValue:function(t){var e=t.field,n=t.value;return this.$store.state.settings[e]==n?this.$delete(this.edits,e):this.$set(this.edits,e,n)},save:function(){var t=this,e=Qr.a.generate();vr.dispatch("loadingStart",{id:e}),this.saving=!0;var n=[];this.$lodash.forEach(this.edits,function(e,i){n.push({id:t.rawSettings[i].id,value:e})}),this.$api.updateItems("directus_settings",n).then(function(){t.saving=!1,t.$store.dispatch("loadingFinished",e),t.$router.push("/settings")}).catch(function(n){t.saving=!1,t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})}},beforeRouteEnter:function(t,e,n){var i=Qr.a.generate();vr.dispatch("loadingStart",{id:i}),Promise.all([vr.dispatch("getSettings"),wr.getItems("directus_settings"),wr.getFields("directus_settings")]).then(function(t){var e=Object(Kr["a"])(t,3),n=e[1],i=e[2];return{fields:i.data,rawSettings:n.data}}).then(function(t){var e=t.rawSettings,n=t.fields;return{rawSettings:e,fields:Object(f["keyBy"])(n,"field")}}).then(function(t){var e=t.rawSettings,n=t.fields;return{rawSettings:e,fields:Object(f["mapValues"])(n,function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})})}}).then(function(t){var e=t.rawSettings,n=t.fields,i=vr.state.settings;return{rawSettings:Object(f["keyBy"])(e,"key"),fields:Object(f["mapValues"])(i,function(t,e){return n[e]||{collection:"directus_settings",field:e,group:null,hidden_input:!1,hidden_list:!1,id:null,interface:"text-input",locked:!0,name:Ho()(e),note:null,options:null,readonly:!1,required:!1,sort:null,translation:null,type:"VARCHAR",validation:null,view_width:4}})}}).then(function(t){var e=t.rawSettings,s=t.fields;vr.dispatch("loadingFinished",i),n(function(t){t.$data.fields=s,t.$data.rawSettings=e})}).catch(function(t){vr.dispatch("loadingFinished",i),Nr.emit("error",{notify:Oo.t("something_went_wrong_body"),error:t})})},beforeRouteLeave:function(t,e,n){return this.editing?(this.confirmNavigation=!0,this.toPath=t.fullPath,n(!1)):n()}},xc=Oc,jc=(n("nZvG"),Object(P["a"])(xc,wc,Cc,!1,null,"fbde7868",null)),Sc=jc.exports,Ec=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collections"},[n("v-header-bar",{attrs:{breadcrumb:t.breadcrumb}},[n("template",{slot:"buttons"},[n("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:t.$t("new")},on:{click:function(e){t.addNew=!0}}})],1)],2),0===t.items.length?n("v-error",{attrs:{title:t.$t("no_collections"),body:t.$t("no_collections_body"),icon:"error_outline"}}):t._e(),n("div",{staticClass:"table"},[n("div",{staticClass:"header"},[n("div",{staticClass:"row"},[n("div",{staticClass:"cell"},[t._v(t._s(t.$t("collection")))]),n("div",{staticClass:"cell"},[t._v(t._s(t.$t("note")))])])]),n("div",{staticClass:"body"},t._l(t.items,function(e){return n("router-link",{key:e.collection,staticClass:"row",attrs:{to:e.__link__}},[n("div",{staticClass:"cell"},[t._v(t._s(e.name))]),n("div",{staticClass:"cell"},[t._v(t._s(e.note))]),e.managed?n("button",{staticClass:"managed",on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.toggleManage(e)}}},[t._v(t._s(t.$t("dont_manage")))]):n("button",{staticClass:"not-managed",on:{click:function(n){n.preventDefault(),n.stopPropagation(),t.toggleManage(e)}}},[t._v(t._s(t.$t("manage")))])])}))]),t.addNew?n("portal",{attrs:{to:"modal"}},[n("v-prompt",{attrs:{safe:"","confirm-text":t.$t("create"),message:t.$t("create_collection"),placeholder:t.$t("enter_collection_name"),loading:t.adding},on:{cancel:function(e){t.addNew=!1},confirm:t.add},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}})],1):t._e(),t.dontManage?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{message:t.$t("dont_manage_copy",{collection:t.dontManage.name}),color:"danger","confirm-text":t.$t("dont_manage")},on:{cancel:function(e){t.dontManage=null},confirm:t.stopManaging}})],1):t._e()],1)},Fc=[],Nc={name:"settings-collections",metaInfo:function(){return{title:"".concat(this.$t("settings")," | ").concat(this.$t("settings_collections_fields"))}},data:function(){return{addNew:!1,newName:"",adding:!1,dontManage:null}},computed:{items:function(){var t=this,e=this.$store.state.collections||{};return Object.values(e).filter(function(t){return!1===t.collection.startsWith("directus_")}).map(function(e){return Object(At["a"])({},e,{name:t.$t("collections-".concat(e.collection)),__link__:"/settings/collections/".concat(e.collection)})})},breadcrumb:function(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("collections"),path:"/settings/collections"}]}},methods:{add:function(){var t=this;this.adding=!0;var e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.createCollection({collection:this.newName,hidden:0,fields:[{type:"INT",field:"id",interface:"primary-key",auto_increment:!0,primary_key:!0,length:15}]}).then(function(t){return t.data}).then(function(n){t.$store.dispatch("loadingFinished",e),t.$store.dispatch("addCollection",n),t.$router.push("/settings/collections/".concat(t.newName))}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},toggleManage:function(t){var e=this;if(!t.managed)return this.$api.updateItem("directus_collections",t.collection,{managed:!0}).then(function(){return e.$store.dispatch("getCollections")}).catch(function(t){e.$events.emit("error",{notify:e.$t("something_went_wrong_body"),error:t})});this.dontManage=t},stopManaging:function(){var t=this;return this.$api.updateItem("directus_collections",this.dontManage.collection,{managed:!1}).then(function(){return t.$store.dispatch("getCollections")}).then(function(){t.dontManage=null}).catch(function(e){t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})}}},qc=Nc,Tc=(n("EoGF"),Object(P["a"])(qc,Ec,Fc,!1,null,"11ecce74",null)),Pc=Tc.exports,Ic=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.collectionInfo?n("div",{staticClass:"settings-fields"},[n("v-header-bar",{attrs:{breadcrumb:t.breadcrumb}},[n("template",{slot:"buttons"},[n("v-header-button",{key:"delete",attrs:{icon:"close",color:"danger",label:t.$t("delete")},on:{click:function(e){t.confirmRemove=!0}}}),n("v-header-button",{key:"save",attrs:{icon:"check",color:"action",loading:t.saving,disabled:0===Object.keys(t.edits).length,label:t.$t("save")},on:{click:t.save}})],1)],2),n("h2",{staticClass:"style-1"},[t._v(t._s(t.$tc("collection_contains_items",t.count,{collection:t.$helpers.formatTitle(t.collection),count:"--"===t.count?"--":t.$n(t.count)})))]),n("em",[t._v(t._s(t.$t("collection_names_cannot_be_changed")))]),n("h2",{staticClass:"style-1"},[t._v(t._s(t.$t("fields")))]),n("em",{staticClass:"notice"},[t._v(t._s(t.$t("fields_are_saved_automatically")))]),n("div",{staticClass:"table"},[n("div",{staticClass:"header"},[n("div",{staticClass:"row"},[n("div",{staticClass:"drag"},[n("i",{staticClass:"material-icons"},[t._v("swap_vert")])]),n("div",[t._v(t._s(t.$t("field")))]),n("div",[t._v(t._s(t.$t("interface")))])])]),n("div",{staticClass:"body"},[n("draggable",{on:{end:t.saveSort},model:{value:t.fields,callback:function(e){t.fields=e},expression:"fields"}},t._l(t.fields,function(e){return n("div",{key:e.field,staticClass:"row",on:{click:function(n){t.startEditingField(e)}}},[n("div",{staticClass:"drag"},[n("i",{staticClass:"material-icons"},[t._v("drag_handle")])]),n("div",[t._v(t._s(t.$helpers.formatTitle(e.field)))]),n("div",[t._v(t._s(t.$store.state.extensions.interfaces[e.interface]&&t.$store.state.extensions.interfaces[e.interface].name||"--"))]),n("button",{staticClass:"remove-field",on:{click:function(n){n.stopPropagation(),t.warnRemoveField(e.field)}}},[n("i",{staticClass:"material-icons"},[t._v("close")])])])}))],1)]),n("v-button",{on:{click:function(e){t.startEditingField({})}}},[t._v("New Field")]),n("h2",{staticClass:"style-1"},[t._v("Additional Settings")]),t.fields?n("v-edit-form",{attrs:{fields:t.directusFields,values:t.collectionInfo,collection:"directus_collections"},on:{"stage-value":t.stageValue}}):t._e(),t.confirmRemove?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{color:"danger",message:t.$t("delete_collection_are_you_sure"),"confirm-text":t.$t("delete")},on:{cancel:function(e){t.confirmRemove=!1},confirm:t.remove}})],1):t._e(),t.confirmFieldRemove?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{color:"danger",message:t.$t("delete_field_are_you_sure",{field:t.fieldToBeRemoved}),"confirm-text":t.$t("delete")},on:{cancel:function(e){t.confirmFieldRemove=!1},confirm:function(e){t.removeField(t.fieldToBeRemoved)}}})],1):t._e(),t.editingField?n("v-field-setup",{attrs:{"field-info":t.fieldBeingEdited},on:{close:function(e){t.editingField=!1},save:t.setFieldSettings}}):t._e()],1):n("not-found")},Ac=[],Bc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-modal",{attrs:{title:t.$t("create_field"),cancel:function(){},buttons:t.buttons},on:{next:t.nextTab,close:function(e){t.$emit("close")}}},[n("div",{staticClass:"tabs"},[n("button",{class:{active:"interface"===t.activeTab},on:{click:function(e){t.activeTab="interface"}}},[t._v(t._s(t.$t("interface")))]),n("button",{class:{active:"schema"===t.activeTab},attrs:{disabled:t.schemaDisabled},on:{click:function(e){t.activeTab="schema"}}},[t._v(t._s(t.$t("schema")))]),n("button",{class:{active:"options"===t.activeTab},attrs:{disabled:t.optionsDisabled},on:{click:function(e){t.activeTab="options"}}},[t._v(t._s(t.$t("options")))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"interface"===t.activeTab,expression:"activeTab === 'interface'"}],staticClass:"tab"},[n("h1",{staticClass:"style-0"},[t._v(t._s(t.$t("choose_interface")))]),t.interfaceName?n("p",[t._v("\n      "+t._s(t.$t("currently_selected",{thing:t.interfaces[t.interfaceName].name}))+"\n    ")]):n("p",[t._v("\n      "+t._s(t.$t("select_interface_below"))+"\n    ")]),n("div",{staticClass:"interfaces"},t._l(t.interfaces,function(e){return n("article",{key:e.id,staticClass:"interface",class:{active:t.interfaceName===e.id},on:{click:function(n){t.interfaceName=e.id}}},[n("div",{staticClass:"header"},[n("i",{staticClass:"material-icons"},[t._v("text_fields")])]),n("div",{staticClass:"body"},[n("h2",[t._v(t._s(e.name))]),n("p",[t._v("Directus Team")])])])}))]),n("div",{directives:[{name:"show",rawName:"v-show",value:"schema"===t.activeTab,expression:"activeTab === 'schema'"}],staticClass:"tab"},[n("h1",{staticClass:"style-0"},[t._v(t._s(t.$t("name_field",{field:"dropdown"})))]),n("p",[t._v(t._s(t.$t("intelligent_defaults")))]),n("form",{staticClass:"schema",on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"name"},[n("label",[t._v(t._s(t.$t("name"))+" "),n("v-input",{attrs:{type:"text",placeholder:t.$t("db_name")},model:{value:t.field,callback:function(e){t.field=e},expression:"field"}})],1),n("label",[t._v(t._s(t.$t("display_name"))+" "),n("v-input",{attrs:{type:"text",disabled:"",value:t.displayName,placeholder:t.$t("auto_generated")}})],1)]),n("label",[t._v(t._s(t.$t("note"))+" "),n("v-input",{attrs:{type:"text",placeholder:t.$t("add_note")},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),n("details",[n("summary",[t._v(t._s(t.$t("show_advanced_options")))]),n("div",{staticClass:"advanced-form"},[n("label",[t._v("\n            "+t._s(t.$t("datatype"))+"\n            "),n("v-simple-select",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.availableDatatypes,function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v("\n                "+t._s(i)+"\n              ")])}))],1),n("label",[t._v(t._s(t.$t("length"))+" "),n("v-input",{attrs:{type:"number"},model:{value:t.length,callback:function(e){t.length=e},expression:"length"}})],1),n("label",[t._v(t._s(t.$t("default"))+" "),n("v-input",{attrs:{type:"text",placeholder:"NULL"},model:{value:t.default_value,callback:function(e){t.default_value=e},expression:"default_value"}})],1),n("label",[t._v(t._s(t.$t("validation"))+" "),n("v-input",{attrs:{type:"text",placeholder:t.$t("regex")},model:{value:t.validation,callback:function(e){t.validation=e},expression:"validation"}})],1),n("label",{staticClass:"toggle"},[n("v-toggle",{model:{value:t.required,callback:function(e){t.required=e},expression:"required"}}),t._v(" "+t._s(t.$t("required"))+" ")],1),n("label",{staticClass:"toggle"},[n("v-toggle",{model:{value:t.readonly,callback:function(e){t.readonly=e},expression:"readonly"}}),t._v(" "+t._s(t.$t("readonly"))+" ")],1),n("label",{staticClass:"toggle"},[n("v-toggle",{model:{value:t.unique,callback:function(e){t.unique=e},expression:"unique"}}),t._v(" "+t._s(t.$t("unique")))],1),n("label",{staticClass:"toggle"},[n("v-toggle",{model:{value:t.hidden_input,callback:function(e){t.hidden_input=e},expression:"hidden_input"}}),t._v(" "+t._s(t.$t("hidden_input")))],1),n("label",{staticClass:"toggle"},[n("v-toggle",{model:{value:t.hidden_list,callback:function(e){t.hidden_list=e},expression:"hidden_list"}}),t._v(t._s(t.$t("hidden_list")))],1)])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"options"===t.activeTab,expression:"activeTab === 'options'"}],staticClass:"tab"},[n("h1",{staticClass:"style-0"},[t._v(t._s(t.$t("almost_done_options")))]),n("p",[t._v(t._s(t.$t("almost_done_copy")))]),t.selectedInterfaceInfo?n("form",{staticClass:"options",on:{submit:function(t){t.preventDefault()}}},t._l(t.selectedInterfaceInfo.options,function(e,i){return n("div",{key:i,staticClass:"options"},[n("label",{attrs:{for:i}},[t._v(t._s(e.name))]),n("p",[t._v(t._s(e.comment))]),n("v-interface",{attrs:{id:e.interface,name:i,type:e.type,length:e.length,readonly:e.readonly,required:e.required,loading:e.loading,options:e.options,value:t.options[i]||e.default,fields:t.selectedInterfaceInfo.options,values:t.options},on:{input:function(e){t.$set(t.options,i,e)}}})],1)})):t._e()])])},Lc=[],Vc={name:"v-field-setup",props:{fieldInfo:{type:Object,required:!0}},data:function(){return{activeTab:"interface",id:null,sort:null,saving:!1,field:null,type:null,interfaceName:null,options:{},translation:{},readonly:!1,required:!1,unique:!1,note:null,hidden_input:!1,hidden_list:!1,length:null,default_value:null,validation:null}},computed:{interfaces:function(){return this.$store.state.extensions.interfaces},selectedInterfaceInfo:function(){return this.interfaceName?this.interfaces[this.interfaceName]:null},schemaDisabled:function(){return!(this.interfaceName&&this.interfaceName.length>0)},optionsDisabled:function(){return!0===this.schemaDisabled||!this.field},displayName:function(){return this.field?this.$helpers.formatTitle(this.field):""},availableDatatypes:function(){return this.interfaceName?this.interfaces[this.interfaceName].datatypes:{}},buttons:function(){var t=!1;return"interface"!==this.activeTab||this.interfaceName||(t=!0),"schema"!==this.activeTab||this.field||(t=!0),{next:{disabled:t,text:"options"===this.activeTab?this.$t("save"):this.$t("next"),loading:this.saving}}}},created:function(){this.useFieldInfo()},watch:{fieldInfo:function(){this.useFieldInfo()},interfaceName:function(){this.type=Object.keys(this.availableDatatypes)[0]},field:function(t){this.field=t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w_]+/g,"").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"")},type:function(t){this.length=this.availableDatatypes[t]}},methods:{nextTab:function(){switch(this.activeTab){case"interface":this.activeTab="schema";break;case"schema":this.activeTab="options";break;case"options":default:this.saveField();break}},saveField:function(){var t={id:this.id,sort:this.sort,field:this.field,type:this.type,interface:this.interfaceName,default_value:this.default_value,options:this.options,readonly:this.readonly,required:this.required,unique:this.unique,note:this.note,hidden_input:this.hidden_input,hidden_list:this.hidden_list,length:this.length,validation:this.validation};this.saving=!0,this.$emit("save",t)},useFieldInfo:function(){var t=this;this.fieldInfo&&(Object.keys(this.fieldInfo).forEach(function(e){null!=t.fieldInfo[e]&&(t[e]=t.fieldInfo[e])}),this.interfaceName=this.fieldInfo.interface)}}},Rc=Vc,Dc=(n("I4oE"),Object(P["a"])(Rc,Bc,Lc,!1,null,"03ce1862",null)),Mc=Dc.exports,Uc={name:"settings-fields",metaInfo:function(){return{title:"".concat(this.$t("settings")," | ").concat(this.$t("editing",{collection:this.$helpers.formatTitle(this.collection)}))}},components:{VEditForm:Pl,NotFound:sl,VFieldSetup:Mc},props:{collection:{type:String,required:!0}},data:function(){return{saving:!1,fields:null,directusFields:null,notFound:!1,error:!1,confirmRemove:!1,confirmRemoveLoading:!1,confirmNavigation:!1,leavingTo:"",edits:{},fieldEdits:{},fieldBeingEdited:{},fieldToBeRemoved:null,confirmFieldRemove:!1,editingField:!1,count:"--"}},created:function(){this.getItemCount()},watch:{collection:function(){this.getItemCount()}},computed:{breadcrumb:function(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("collections"),path:"/settings/collections"},{name:this.$t("collections-".concat(this.collection)),path:"/settings/collections/".concat(this.collection)}]},collectionInfo:function(){return this.$store.state.collections[this.collection]},fieldsWithSort:function(){return this.fields.map(function(t,e){return Object(At["a"])({},t,{sort:e+1})})}},methods:{getItemCount:function(){var t=this;if(this.collectionInfo){var e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.getItems(this.collection,{fields:"id",meta:"total_count"}).then(function(t){return t.meta}).then(function(n){t.$store.dispatch("loadingFinished",e),t.count=n.total_count}).catch(function(e){t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})}},remove:function(){var t=this,e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteCollection(this.collection).then(function(){t.$store.dispatch("loadingFinished",e),t.$store.dispatch("removeCollection",t.collection),t.$router.push("/settings/collections")}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},save:function(){var t=this;this.saving=!0;var e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.updateCollection(this.collection,this.edits).then(function(){t.$store.dispatch("loadingFinished",e),t.saving=!1,t.$store.dispatch("updateCollection",{collection:t.collection,edits:t.edits}),t.$router.push("/settings/collections")}).catch(function(n){t.saving=!1,t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},stageValue:function(t){var e=t.field,n=t.value;n!==this.collectionInfo[e]?this.$set(this.edits,e,n):this.$delete(this.edits,e)},setFieldSettings:function(t){var e=this,n=null!=t.id;if(n){var i=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:i}),this.$api.updateField(this.collection,t.field,t).then(function(t){return t.data}).then(function(t){e.$store.dispatch("loadingFinished",i),e.editingField=!1,e.fieldBeingEdited=null,e.fields=e.fields.map(function(e){return e.id===t.id?t:e})}).catch(function(t){e.$store.dispatch("loadingFinished",i),e.$events.emit("error",{notify:e.$t("something_went_wrong_body"),error:t})})}delete t.id,t.collection=this.collection;var s=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:s}),this.$api.createField(this.collection,t).then(function(t){return t.data}).then(function(t){e.$store.dispatch("loadingFinished",s),e.editingField=!1,e.fieldBeingEdited=null,e.fields=Object(ct["a"])(e.fields).concat([t])}).catch(function(t){e.$store.dispatch("loadingFinished",s),e.$events.emit("error",{notify:e.$t("something_went_wrong_body"),error:t})})},startEditingField:function(t){this.fieldBeingEdited=t,this.editingField=!0},warnRemoveField:function(t){this.fieldToBeRemoved=t,this.confirmFieldRemove=!0},removeField:function(t){var e=this;this.removingField=!0;var n=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:n}),this.$api.deleteField(this.collection,t).then(function(){e.$store.dispatch("loadingFinished",n),e.fields=e.fields.filter(function(e){var n=e.field;return n!==t}),e.removingField=!1,e.fieldToBeRemoved=null,e.confirmFieldRemove=!1}).catch(function(t){e.$store.dispatch("loadingFinished",n),e.$events.emit("error",{notify:e.$t("something_went_wrong_body"),error:t})})},saveSort:function(){var t=this,e=this.fieldsWithSort.map(function(t){return{field:t.field,sort:t.sort}}),n=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:n}),this.$api.updateFields(this.collection,e).then(function(t){return t.data}).then(function(e){t.$store.dispatch("loadingFinished",n),t.fields=e}).catch(function(e){t.$store.dispatch("loadingFinished",n),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:e})})}},beforeRouteEnter:function(t,e,n){var i=t.params.collection,s=Qr.a.generate();return vr.dispatch("loadingStart",{id:s}),Promise.all([wr.getFields("directus_collections"),wr.getFields(i,{sort:"sort"})]).then(function(t){var e=Object(Kr["a"])(t,2),n=e[0],i=e[1];return{directusFields:n.data,fields:i.data}}).then(function(t){var e=t.directusFields,i=t.fields;vr.dispatch("loadingFinished",s),n(function(t){t.$data.directusFields=Object(f["keyBy"])(e.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})}),"field"),t.$data.fields=i.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})}).sort(function(t,e){return null==t.sort?1:t.sort>e.sort?1:-1})})}).catch(function(t){vr.dispatch("loadingFinished",s),n(function(e){e.$data.error=t})})}},Kc=Uc,zc=(n("578d"),Object(P["a"])(Kc,Ic,Ac,!1,null,"5be103cd",null)),Qc=zc.exports,Wc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-roles"},[n("v-header-bar",{attrs:{breadcrumb:t.breadcrumb}},[n("template",{slot:"buttons"},[n("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:t.$t("new"),to:"/settings/roles/+"}})],1)],2),n("v-table",{attrs:{items:t.items,columns:t.fields,"primary-key-field":"collection",link:"__link__"}})],1)},Gc=[],Hc={name:"settings-roles",metaInfo:function(){return{title:"".concat(this.$t("settings")," | ").concat(this.$t("roles"))}},data:function(){return{error:null,roles:[]}},computed:{breadcrumb:function(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("roles"),path:"/settings/roles"}]},items:function(){return this.roles.map(function(t){return Object(At["a"])({},t,{__link__:"/settings/roles/".concat(t.id)})})},fields:function(){return[{field:"name",name:this.$t("name")},{field:"description",name:this.$t("description")}]}},beforeRouteEnter:function(t,e,n){var i=this;wr.getRoles().then(function(t){return t.data}).then(function(t){n(function(e){e.$data.roles=t})}).catch(function(t){i.$events.emit("error",{notify:i.$t("something_went_wrong_body"),error:t}),n(function(e){e.$data.error=t})})}},Zc=Hc,Jc=Object(P["a"])(Zc,Wc,Gc,!1,null,null,null),Yc=Jc.exports,Xc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.error?n("div",[n("v-header-bar"),t.error?n("v-error",{attrs:{icon:"error_outline",color:"warning",title:t.$t("server_trouble"),body:t.$t("server_trouble_copy")}}):t._e()],1):n("div",{staticClass:"settings-permissions"},[n("v-header-bar",{attrs:{breadcrumb:t.breadcrumb}},[n("template",{slot:"buttons"},[t.isNew||t.isSystem?t._e():n("v-header-button",{attrs:{loading:t.removing,label:t.$t("delete"),icon:"close",color:"danger"},on:{click:function(e){t.confirmRemove=!0}}}),n("v-header-button",{attrs:{disabled:!t.editing,loading:t.saving,label:t.$t("save"),icon:"check",color:"action"},on:{click:t.save}})],1)],2),n("h2",{staticClass:"style-1"},[t._v(t._s(t.$t("permissions")))]),t.permissions&&t.statuses?n("v-permissions-widget",{attrs:{permissions:t.permissions,statuses:t.statuses,fields:t.permissionFields},on:{input:t.setPermission}}):t._e(),n("h2",{staticClass:"style-1"},[t._v(t._s(t.$t("role_settings")))]),t.fields&&t.role?n("v-edit-form",{attrs:{fields:t.fields,values:t.role,collection:"directus_roles"},on:{"stage-value":t.stageValue}}):t._e(),t.confirmRemove?n("portal",{attrs:{to:"modal"}},[n("v-confirm",{attrs:{color:"danger",message:t.$t("delete_role_are_you_sure",{name:t.role.name}),"confirm-text":t.$t("delete"),loading:t.removing},on:{cancel:function(e){t.confirmRemove=!1},confirm:t.remove}})],1):t._e()],1)},tu=[],eu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"permissions-widget"},[n("v-permissions-widget-header"),n("div",{staticClass:"body"},t._l(t.permissions,function(e,i){return n("v-permissions-widget-row",{key:i,attrs:{permission:e,"permission-name":i,statuses:(t.statuses[i]||{}).mapping,fields:t.fields[i]},on:{input:function(e){t.$emit("input",e)}}})}))],1)},nu=[],iu=function(t,e){var n=e._c;return n("div",{staticClass:"header"},[n("div",{staticClass:"row"},[n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("collection")))])]),n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("create")))])]),n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("read")))])]),n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("update")))])]),n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("delete")))])]),n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("comment")))])]),n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("fields")))])]),n("div",{staticClass:"cell"},[n("div",[e._v(e._s(e.parent.$t("allowed_statuses")))])])])])},su=[],au=(n("87xP"),{}),ou=Object(P["a"])(au,iu,su,!0,null,"364a93d4",null),ru=ou.exports,lu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-permissions-widget-row"},[t.statuses?n("div",{staticClass:"row"},[n("div",{staticClass:"cell"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.permissionName,expression:"permissionName"}]},[t._v(t._s(t.$helpers.formatTitle(t.permissionName)))])]),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.getCombinedVal("create"),options:["none","full"]},on:{input:function(e){t.setAllStatuses("create",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.getCombinedVal("read"),options:["none","mine","role","full"]},on:{input:function(e){t.setAllStatuses("read",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.getCombinedVal("update"),options:["none","mine","role","full"]},on:{input:function(e){t.setAllStatuses("update",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.getCombinedVal("delete"),options:["none","mine","role","full"]},on:{input:function(e){t.setAllStatuses("delete",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.getCombinedVal("comment"),options:["none","create","update","full"]},on:{input:function(e){t.setAllStatuses("comment",e)}}})],1),n("div",{staticClass:"cell"},[n("button",{class:{mixed:t.fieldState},on:{click:function(e){t.active=!t.active}}},[t._v("\n        "+t._s(t.fieldState?t.$t("mixed"):t.$t("all"))+"\n      ")])]),n("div",{staticClass:"cell"},[n("button",{staticClass:"mixed",on:{click:function(e){t.active=!t.active}}},[t._v("\n        --\n      ")])])]):n("div",{staticClass:"row"},[n("div",{staticClass:"cell"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.permissionName,expression:"permissionName"}]},[t._v(t._s(t.$helpers.formatTitle(t.permissionName)))])]),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission.create,options:["none","full"]},on:{input:function(e){t.emitValue("create",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission.read,options:["none","mine","role","full"]},on:{input:function(e){t.emitValue("read",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission.update,options:["none","mine","role","full"]},on:{input:function(e){t.emitValue("update",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission.delete,options:["none","mine","role","full"]},on:{input:function(e){t.emitValue("delete",e)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission.comment,options:["none","create","update","full"]},on:{input:function(e){t.emitValue("comment",e)}}})],1),n("div",{staticClass:"cell"},[n("button",{class:{limited:t.fieldState},on:{click:function(e){t.fieldsSelect={collection:t.permissionName}}}},[t._v("\n        "+t._s(t.fieldState?t.$t("limited"):t.$t("all"))+"\n      ")])]),t._m(0)]),t.statuses&&t.active?t._l(t.statuses,function(e,i){return n("div",{key:t.permissionName+"-"+i,staticClass:"sub row"},[n("div",{staticClass:"cell"},[n("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:i,expression:"status"}]},[t._v(t._s(e.name))])]),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission[i].create,options:["none","full"]},on:{input:function(e){t.emitValue("create",e,i)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission[i].read,options:["none","mine","role","full"]},on:{input:function(e){t.emitValue("read",e,i)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission[i].update,options:["none","mine","role","full"]},on:{input:function(e){t.emitValue("update",e,i)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission[i].delete,options:["none","mine","role","full"]},on:{input:function(e){t.emitValue("delete",e,i)}}})],1),n("div",{staticClass:"cell"},[n("v-permissions-toggle",{attrs:{value:t.permission[i].comment,options:["none","create","update","full"]},on:{input:function(e){t.emitValue("comment",e,i)}}})],1),n("div",{staticClass:"cell"},[n("button",{class:{limited:t.getFieldSettingsPerStatus(i)},on:{click:function(e){t.fieldsSelect={collection:t.permissionName,status:i}}}},[t._v("\n          "+t._s(t.getFieldSettingsPerStatus(i)?t.$t("limited"):t.$t("all"))+"\n        ")])]),n("div",{staticClass:"cell"},[n("button",{class:{limited:0!==t.permission[i].allowed_statuses.length},on:{click:function(e){t.statusSelect={collection:t.permissionName,status:i}}}},[t._v("\n          "+t._s(0===t.permission[i].allowed_statuses.length?t.$t("all"):t.$t("limited"))+"\n        ")])])])}):t._e(),t.collapsable?n("button",{staticClass:"collapse",on:{click:function(e){t.active=!t.active}}},[n("i",{staticClass:"material-icons"},[t._v(t._s(t.active?"unfold_less":"unfold_more"))])]):t._e(),t.fieldsSelect?n("portal",{attrs:{to:"modal"}},[n("v-modal",{attrs:{title:t.$t("select_fields"),buttons:{confirm:{text:t.$t("confirm")}},"action-required":""},on:{confirm:function(e){t.fieldsSelect=null}}},[n("form",{staticClass:"modal-content",on:{submit:function(t){t.preventDefault()}}},[n("fieldset",[n("legend",{staticClass:"style-3"},[t._v(t._s(t.$t("read_blacklist")))]),n("p",{staticClass:"style-4"},[t._v(t._s(t.$t("read_blacklist_copy")))]),t._l(t.fields,function(e,i){return n("v-checkbox",{key:t.permissionName+"-read-"+i,attrs:{id:t.permissionName+"-read-"+i,checked:!t.blacklist.read.includes(i),label:t.$helpers.formatTitle(i),value:i},on:{change:function(e){t.toggleField(i)}}})})],2),n("fieldset",[n("legend",{staticClass:"style-3"},[t._v(t._s(t.$t("write_blacklist")))]),n("p",{staticClass:"style-4"},[t._v(t._s(t.$t("write_blacklist_copy")))]),t._l(t.fields,function(e,i){return n("v-checkbox",{key:t.permissionName+"-write-"+i,attrs:{id:t.permissionName+"-write-"+i,checked:!t.blacklist.write.includes(i),label:t.$helpers.formatTitle(i),value:i},on:{change:function(e){t.toggleField(i,!0)}}})})],2)])])],1):t._e(),t.statusSelect&&t.statuses?n("portal",{attrs:{to:"modal"}},[n("v-modal",{attrs:{title:t.$t("select_statuses"),buttons:{confirm:{text:t.$t("confirm")}},"action-required":""},on:{confirm:function(e){t.statusSelect=null}}},[n("form",{staticClass:"modal-content",on:{submit:function(t){t.preventDefault()}}},[n("fieldset",[n("legend",{staticClass:"style-3"},[t._v(t._s(t.$t("select_statuses")))]),n("p",{staticClass:"style-4"},[t._v(t._s(t.$t("select_statuses_copy")))]),t._l(t.statuses,function(e,i){return n("v-checkbox",{key:"status-"+i,attrs:{id:"status-"+i,checked:t.permission[t.statusSelect.status].allowed_statuses.includes(i),label:e.name,value:i},on:{change:function(e){t.toggleStatus(i)}}})})],2)])])],1):t._e()],2)},cu=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cell"},[n("span",{staticClass:"mixed"},[t._v("n/a")])])}],uu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-popover",{attrs:{placement:"right-start",offset:"5"}},[n("button",{staticClass:"box",class:[{none:null===t.value},t.value]},["none"===t.value?n("i",{staticClass:"material-icons"},[t._v("close")]):"mine"===t.value?n("i",{staticClass:"material-icons"},[t._v("person")]):"role"===t.value?n("i",{staticClass:"material-icons"},[t._v("group")]):"full"===t.value?n("i",{staticClass:"material-icons"},[t._v("check")]):"indeterminate"===t.value?n("i",{staticClass:"material-icons"},[t._v("remove")]):t._e()]),n("template",{slot:"popover"},[n("div",{staticClass:"popover-content"},t._l(t.options,function(e){return n("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],key:e,on:{click:function(n){t.$emit("input",e)}}},[n("div",{staticClass:"box",class:e},["none"===e?n("i",{staticClass:"material-icons"},[t._v("close")]):"mine"===e?n("i",{staticClass:"material-icons"},[t._v("person")]):"role"===e?n("i",{staticClass:"material-icons"},[t._v("group")]):"full"===e?n("i",{staticClass:"material-icons"},[t._v("check")]):t._e()]),"none"===e?[t._v("No Items")]:t._e(),"mine"===e?[t._v("My Items Only")]:t._e(),"role"===e?[t._v("Role Items Only")]:t._e(),"full"===e?[t._v("All Items")]:t._e()],2)}))])],2)},du=[],fu={name:"permission-toggle",props:{options:{type:Array,default:function(){return[]}},value:{type:String,default:"none",validator:function(t){return["none","mine","role","full","indeterminate"].includes(t)}}}},hu=fu,pu=(n("113U"),Object(P["a"])(hu,uu,du,!1,null,"e4078e48",null)),mu=pu.exports,vu={name:"v-permissions-widget-row",components:{VPermissionsToggle:mu},props:{permission:{type:Object,required:!0},statuses:{type:Object,default:null},permissionName:{type:String,required:!0},fields:{type:Object,required:!0}},data:function(){return{active:!1,fieldsSelect:!1,statusSelect:!1}},computed:{collapsable:function(){return null!=this.statuses},blacklist:function(){if(this.fieldsSelect&&this.permission){var t=this.fieldsSelect.status,e=t?this.permission[t]:this.permission;return{read:e.read_field_blacklist,write:e.write_field_blacklist}}},fieldState:function(){if(!this.permission)return this.$t("all");if(this.statuses){var t=!0;return this.$lodash.forEach(this.permission,function(e){(e.read_field_blacklist.length>0||e.write_field_blacklist.length>0)&&(t=!1)}),!t}var e=this.permission.read_field_blacklist,n=this.permission.write_field_blacklist;return 0!==e.length||0!==n.length}},methods:{emitValue:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$emit("input",{collection:this.permissionName,permission:t,value:e,status:n})},getCombinedVal:function(t){if(!this.statuses)return null;var e=this.permission[Object.keys(this.statuses)[0]][t];return this.$lodash.forEach(this.permission,function(n){n[t]!==e&&(e="indeterminate")}),e},getFieldSettingsPerStatus:function(t){var e=this.permission[t].read_field_blacklist,n=this.permission[t].write_field_blacklist;return 0!==e.length||0!==n.length},setAllStatuses:function(t,e){var n=this;Object.keys(this.statuses).forEach(function(i){n.emitValue(t,e,i)})},toggleField:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.fieldsSelect.status,i=e?this.blacklist.write:this.blacklist.read,s=e?"write_field_blacklist":"read_field_blacklist";return i.includes(t)?this.emitValue(s,i.filter(function(e){return e!==t}),n):this.emitValue(s,Object(ct["a"])(i).concat([t]),n)},toggleStatus:function(t){if(this.statuses){var e=this.statusSelect.status,n=this.permission[e].allowed_statuses;return n.includes(t)?this.emitValue("allowed_statuses",n.filter(function(e){return e!==t}),e):this.emitValue("allowed_statuses",Object(ct["a"])(n).concat([t]),e)}}}},gu=vu,_u=(n("B8jf"),Object(P["a"])(gu,lu,cu,!1,null,"7bc14bc8",null)),yu=_u.exports,bu={name:"permissions-widget",components:{VPermissionsWidgetHeader:ru,VPermissionsWidgetRow:yu},props:{permissions:{type:Object,required:!0},statuses:{type:Object,required:!0},fields:{type:Object,required:!0}}},$u=bu,ku=(n("RODh"),Object(P["a"])($u,eu,nu,!1,null,"46e3daea",null)),wu=ku.exports,Cu={name:"settings-permissions",metaInfo:function(){if(this.role)return{title:"".concat(this.$t("settings")," | ").concat(this.$helpers.formatTitle(this.role.name)," ").concat(this.$t("permissions"))}},components:{VEditForm:Pl,VPermissionsWidget:wu},data:function(){return{role:null,error:null,saving:!1,roleEdits:{},confirmRemove:!1,removing:!1,fields:{},permissionsLoading:!1,savedPermissions:{},permissionEdits:{},permissionFields:[],statuses:null}},computed:{isNew:function(){return"+"===this.$route.params.id},isSystem:function(){return!!this.role&&(1===this.role.id||2===this.role.id)},collections:function(){return this.$store.state.collections},breadcrumb:function(){return this.role?this.isNew?[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("roles"),path:"/settings/roles"},{name:this.$t("creating_role"),path:"/settings/roles/+"}]:[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("roles"),path:"/settings/roles"},{name:this.$helpers.formatTitle(this.role.name),path:"/settings/roles/".concat(this.role.id)}]:[]},editing:function(){return Object.keys(this.roleEdits).length>0||Object.keys(this.permissionEdits).length>0},permissions:function(){var t=this;if(!this.statuses)return null;var e={};return Object.keys(this.collections).forEach(function(n){var i={collection:n,status:null,allowed_statuses:[],create:"none",delete:"none",navigate:"none",read:"none",read_field_blacklist:[],update:"none",write_field_blacklist:[]};if(null==t.statuses[n])return e[n]=i;Object.keys(t.statuses[n].mapping).forEach(function(t){e[n]||(e[n]={}),e[n][t]=Object(At["a"])({},i,{status:t})})}),this.$lodash.merge({},e,this.savedPermissions,this.permissionEdits)}},beforeRouteEnter:function(t,e,n){var i=t.params.id,s="+"===i;return s?wr.getFields("directus_roles").then(function(t){return t.data}).then(function(t){n(function(e){var n=Object(f["keyBy"])(t.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})}),"field");e.$data.fields=n,e.$data.role=Object(f["mapValues"])(n,function(t){return t.default_value})})}).catch(function(t){n(function(e){e.$data.error=t})}):Promise.all([wr.getRole(+i),wr.getFields("directus_roles")]).then(function(t){var e=Object(Kr["a"])(t,2),n=e[0],i=e[1];return{role:n.data,fields:Object(f["keyBy"])(i.data.map(function(t){return Object(At["a"])({},t,{name:Ho()(t.field)})}),"field")}}).then(function(t){var e=t.role,i=t.fields;n(function(t){t.$data.role=e,t.$data.fields=i})}).catch(function(t){n(function(e){e.$data.error=t})})},created:function(){this.loadPermissions()},watch:{$route:function(){this.loadPermissions()}},methods:{stageValue:function(t){var e=t.field,n=t.value;this.roleEdits=Object(At["a"])({},this.roleEdits,Object(vo["a"])({},e,n))},save:function(){var t=this;this.saving=!0;var e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.saveRole().then(this.savePermissions).then(function(){t.$store.dispatch("loadingFinished",e),t.saving=!1,t.$router.push("/settings/roles")}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})},saveRole:function(){return 0===Object.keys(this.roleEdits).length?Promise.resolve():this.isNew?this.$api.createRole(this.roleEdits):this.$api.updateRole(this.role.id,this.roleEdits)},savePermissions:function(){var t=this;if(0===Object.keys(this.permissionEdits).length)return Promise.resolve();var e=[],n=[];return Object.keys(this.permissionEdits).forEach(function(i){if(t.statuses[i])Object.keys(t.permissionEdits[i]).forEach(function(s){var a=t.savedPermissions[i]&&t.savedPermissions[i][s]&&t.savedPermissions[i][s].id||null;a?n.push(Object(At["a"])({id:a},t.permissionEdits[i][s])):e.push(Object(At["a"])({collection:i,status:s,role:t.role.id},t.permissionEdits[i][s]))});else{var s=t.savedPermissions[i]&&t.savedPermissions[i].id||null;s?n.push(Object(At["a"])({id:s},t.permissionEdits[i])):e.push(Object(At["a"])({collection:i,role:t.role.id},t.permissionEdits[i]))}}),Promise.all([e.length>0?this.$api.createPermissions(e):Promise.resolve(),n.length>0?this.$api.updatePermissions(n):Promise.resolve()])},remove:function(){var t=this;if(!this.isSystem){this.removing=!0;var e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteRole(this.role.id).then(function(){t.$store.dispatch("loadingFinished",e),t.removing=!1,t.$router.push("/settings/roles")}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})}},loadPermissions:function(){var t=this;if(!this.isNew){this.permissionsLoading=!0;var e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),Promise.all([this.$api.getAllFields(),this.$api.getPermissions({"filter[role][eq]":this.$route.params.id})]).then(function(t){var e=Object(Kr["a"])(t,2),n=e[0],i=e[1];return{fields:n.data,permissions:i.data}}).then(function(n){var i=n.fields,s=n.permissions;t.$store.dispatch("loadingFinished",e);var a={};s.forEach(function(t){null==t.status?a[t.collection]=Object(At["a"])({},t):(a[t.collection]||(a[t.collection]={}),a[t.collection][t.status]=Object(At["a"])({},t))}),t.permissionsLoading=!1,t.savedPermissions=a,t.statuses=t.$lodash.keyBy(i.filter(function(t){return"status"===t.interface}).map(function(t){return{mapping:t.options.status_mapping,collection:t.collection}}),"collection"),t.permissionFields=t.$lodash.mapValues(t.$lodash.groupBy(i,"collection"),function(e){return t.$lodash.keyBy(e,"field")})}).catch(function(n){t.$store.dispatch("loadingFinished",e),t.$events.emit("error",{notify:t.$t("something_went_wrong_body"),error:n})})}},setPermission:function(t){var e=t.collection,n=t.permission,i=t.value,s=t.status,a=void 0===s?null:s;return null===a?this.$set(this.permissionEdits,e,Object(At["a"])({},this.permissionEdits[e]||{},Object(vo["a"])({},n,i))):(null==this.permissionEdits[e]&&this.$set(this.permissionEdits,e,{}),this.$set(this.permissionEdits,e,Object(At["a"])({},this.permissionEdits[e]||{},Object(vo["a"])({},a,Object(At["a"])({},this.permissionEdits[e][a]||{},Object(vo["a"])({},n,i))))))}}},Ou=Cu,xu=(n("+yNF"),Object(P["a"])(Ou,Xc,tu,!1,null,"2ac00228",null)),ju=xu.exports,Su=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1===t.exists?n("v-not-found"):n("v-page",{attrs:{id:t.id}})},Eu=[],Fu={name:"page-extension",metaInfo:function(){var t=this.$store.state.extensions.pages[this.id];return t?{title:t.name}:null},components:{VNotFound:sl},props:{id:{type:String,required:!0}},data:function(){return{exists:!1}},beforeRouteEnter:function(t,e,n){var i=vr.state.extensions.pages,s=t.params.id,a=!1;return i.hasOwnProperty(s)&&(a=!0),n(function(t){t.exists=a})},beforeRouteUpdate:function(t,e,n){var i=this.$store.state.extensions.pages,s=this.id;return this.exists=!1,i.hasOwnProperty(s)&&(this.exists=!0),n()}},Nu=Fu,qu=Object(P["a"])(Nu,Su,Eu,!1,null,null,null),Tu=qu.exports,Pu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-debug"},[n("v-header-bar",{attrs:{title:"Debug yo modals"}}),n("label",[t._v("\n    Title\n    "),n("v-input",{model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("label",[t._v("\n    Confirm button text\n    "),n("v-input",{model:{value:t.confirmText,callback:function(e){t.confirmText=e},expression:"confirmText"}})],1),n("label",[t._v("\n    Cancel button text\n    "),n("v-input",{model:{value:t.cancelText,callback:function(e){t.cancelText=e},expression:"cancelText"}})],1),n("v-button",{staticClass:"button",on:{click:function(e){t.alert=!0}}},[t._v("ALERT")]),n("v-button",{staticClass:"button",on:{click:function(e){t.confirm=!0}}},[t._v("CONFIRM")]),n("v-button",{staticClass:"button",on:{click:function(e){t.prompt=!0}}},[t._v("PROMPT")]),n("p",[t._v("Prompt entered text: "+t._s(t.promptText))]),t.alert?n("v-alert",{attrs:{message:t.title,confirmText:t.confirmText},on:{confirm:function(e){t.alert=!1}}}):t._e(),t.confirm?n("v-confirm",{attrs:{message:t.title,cancelText:t.cancelText,confirmText:t.confirmText},on:{confirm:function(e){t.confirm=!1},cancel:function(e){t.confirm=!1}}}):t._e(),t.prompt?n("v-prompt",{attrs:{message:t.title,cancelText:t.cancelText,confirmText:t.confirmText,required:""},on:{confirm:function(e){t.prompt=!1},cancel:function(e){t.prompt=!1}},model:{value:t.promptText,callback:function(e){t.promptText=e},expression:"promptText"}}):t._e()],1)},Iu=[],Au={metaInfo:function(){return{title:"Debug Modals"}},data:function(){return{alert:!1,confirm:!1,prompt:!1,title:"Are you sure you want to log out?",confirmText:"Yes",cancelText:"Cancel",promptText:"I love Directus!"}}},Bu=Au,Lu=(n("V8Ty"),Object(P["a"])(Bu,Pu,Iu,!1,null,"551b7c82",null)),Vu=Lu.exports;d["default"].use(Ya["a"]);var Ru=window.__DirectusConfig__.routerMode,Du=new Ya["a"]({mode:Ru||"history",routes:[{path:"/modals",component:Vu},{path:"/",redirect:"/collections"},{path:"/collections",component:Dr},{path:"/collections/:collection",props:!0,component:ll},{path:"/collections/:collection/:primaryKey",props:!0,component:zl},{path:"/ext/:id",props:!0,component:Tu},{path:"/bookmarks/:collection/:bookmarkID",beforeEnter:function(t,e,n){var i=t.params,s=i.collection,a=i.bookmarkID,o=vr.state.bookmarks.filter(function(t){return t.id==a})[0],r=o.search_query,l=o.filters,c=o.view_query,u=o.view_options,d=o.view_type;wr.getItems("directus_collection_presets",{"filter[user][eq]":vr.state.currentUser.id,"filter[title][null]":1,"filter[collection][eq]":s,fields:"id"}).then(function(t){return t.data}).then(function(t){return t&&t.length>=1?t[0]:null}).then(function(t){if(t)return wr.updateItem("directus_collection_presets",t.id,{search_query:r,filters:l,view_query:c,view_options:u,view_type:d})}).then(function(){return n({path:"/collections/".concat(s,"?b=").concat(o.id)})}).catch(function(t){return Nr.emit("error",{notify:Oo.t("something_went_wrong_body"),error:t})})}},{path:"/collections/directus_files",redirect:"/files"},{path:"/files",component:pl},{path:"/collections/directus_files/:primaryKey",component:zl,alias:"/files/:primaryKey"},{path:"/collections/directus_users",component:ll,alias:"/users"},{path:"/collections/directus_users/:primaryKey",component:zl,alias:"/users/:primaryKey"},{path:"/collections/directus_activity",component:ll,alias:"/activity"},{path:"/debug",component:vc},{path:"/settings",component:kc},{path:"/settings/global",component:Sc},{path:"/settings/collections",component:Pc},{path:"/settings/collections/:collection",component:Qc,props:!0},{path:"/settings/roles",component:Yc},{path:"/settings/roles/:id",component:ju,props:!0},{path:"/interfaces",component:sc},{path:"/interfaces/:id",component:uc,props:!0},{path:"/login",component:Yl,meta:{publicRoute:!0},beforeEnter:function(t,e,n){return wr.loggedIn?n(!1):n()}},{path:"/logout",beforeEnter:function(t,e,n){vr.dispatch("logout"),n("/login")}},{path:"*",component:sl}]});Du.beforeEach(function(t,e,n){var i=vr.getters.loggedIn,s=t.matched.some(function(t){return t.meta.publicRoute});return vr.commit(_s,!1),vr.commit(ys,!1),!1===i?s?n():"/"===e.fullPath?n({path:"/login"}):n({path:"/login",query:{redirect:t.fullPath}}):!1===vr.state.hydrated?Ir().then(function(){if(vr.getters.editing){var t=vr.state.edits,e=t.collection,i=t.primaryKey;return n("/collections/".concat(e,"/").concat(i))}return n()}):n()}),Du.afterEach(function(t,e){!1===vr.state.hydrating&&"/logout"!==e.path&&vr.dispatch("track",{page:t.path})});var Mu=Du,Uu=n("Kgz/"),Ku=n.n(Uu),zu=n("p1qm"),Qu=n.n(zu);n("jqX0");function Wu(t){var e=t.split(/[- :]/);return new Date(Date.UTC(e[0],e[1]-1,e[2],e[3],e[4],e[5]))}function Gu(t){return t.toISOString().slice(0,19).replace("T"," ")}var Hu={sqlToDate:Wu,dateToSql:Gu},Zu={formatTitle:Ho.a,date:Hu,convertRange:Ku.a,micromustache:Qu.a,shortid:Qr.a,componentExists:gt,formatFilters:en},Ju={install:function(t){t.prototype.$helpers=Zu}};d["default"].use(Ju);var Yu=Zu;if(!window.__DirectusConfig__){var Xu="\n\nNo Directus config found.\n\nPlease make sure to rename /static/config_example.js to /static/config.js and edit the config to match your project.\n\n";throw alert(Xu),new Error(Xu)}d["default"].config.productionTip=!1,Object.defineProperties(d["default"].prototype,{$lodash:{value:h.a},$api:{value:wr},$notify:{value:jr},$axios:{value:$.a}}),d["default"].use(Nr),d["default"].use(v["a"],{defaultDelay:500,defaultOffset:2}),d["default"].use(y.a),d["default"].use(g["a"],{name:"v-timeago",locale:"en-US",locales:{en:O.a,nl:j.a}}),d["default"].use(w.a),d["default"].component("draggable",m.a),new d["default"]({render:function(t){return t(Ja)},router:Mu,i18n:Oo,store:vr,api:wr,helpers:Yu}).$mount("#app")},Wzmj:function(t,e,n){},XcBY:function(t,e,n){},Yn7C:function(t,e,n){},YxtN:function(t,e,n){"use strict";var i=n("fgGj"),s=n.n(i);s.a},Z10g:function(t,e,n){"use strict";var i=n("/5AG"),s=n.n(i);s.a},ZTWS:function(t,e,n){"use strict";var i=n("9i7t"),s=n.n(i);s.a},ZWYf:function(t,e,n){},Zw5l:function(t,e,n){},aM3I:function(t,e,n){},aj2a:function(t,e,n){},ajDR:function(t,e,n){},aqBk:function(t,e,n){},dSaO:function(t,e,n){},dUMx:function(t,e,n){"use strict";var i=n("f9SQ"),s=n.n(i);s.a},dqCW:function(t,e,n){},"e+Uw":function(t,e,n){},eb3e:function(t,e,n){},f2LX:function(t,e,n){"use strict";var i=n("QGVQ"),s=n.n(i);s.a},f9SQ:function(t,e,n){},fgGj:function(t,e,n){},fqSg:function(t,e,n){"use strict";var i=n("zYv9"),s=n.n(i);s.a},gkTH:function(t,e,n){"use strict";var i=n("GFKB"),s=n.n(i);s.a},hwEu:function(t,e,n){var i={"./en-US":["EnEa"],"./en-US.js":["EnEa"],"./nl-NL":["wfx3",0],"./nl-NL.js":["wfx3",0]};function s(t){var e=i[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){var t=e[0];return n(t)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}s.keys=function(){return Object.keys(i)},s.id="hwEu",t.exports=s},hyf0:function(t,e,n){"use strict";var i=n("4O2i"),s=n.n(i);s.a},iD1y:function(t,e,n){},ifWO:function(t,e,n){"use strict";var i=n("ajDR"),s=n.n(i);s.a},isuZ:function(t,e,n){},kJZm:function(t,e,n){"use strict";var i=n("OOb1"),s=n.n(i);s.a},kLmT:function(t,e,n){"use strict";var i=n("4Uy4"),s=n.n(i);s.a},kNV6:function(t,e,n){"use strict";var i=n("obv6"),s=n.n(i);s.a},kiQV:function(t){t.exports={a:"7.0.0-beta.3"}},lGIB:function(t,e,n){"use strict";var i=n("mcRc"),s=n.n(i);s.a},lorM:function(t,e,n){},lrCz:function(t,e,n){},m2Lc:function(t,e,n){},mU85:function(t,e,n){"use strict";var i=n("zXau"),s=n.n(i);s.a},mcRc:function(t,e,n){},nGkt:function(t,e,n){},nMmZ:function(t,e,n){"use strict";var i=n("VPgj"),s=n.n(i);s.a},nZvG:function(t,e,n){"use strict";var i=n("3YME"),s=n.n(i);s.a},obv6:function(t,e,n){},pkGk:function(t,e,n){"use strict";var i=n("8hgk"),s=n.n(i);s.a},pyXF:function(t,e,n){},rJco:function(t,e,n){"use strict";var i=n("25t7"),s=n.n(i);s.a},rcNZ:function(t,e,n){},sgAd:function(t,e,n){"use strict";var i=n("wva9"),s=n.n(i);s.a},thAx:function(t,e,n){"use strict";var i=n("aj2a"),s=n.n(i);s.a},"tn+0":function(t,e,n){"use strict";var i=n("nGkt"),s=n.n(i);s.a},tv5v:function(t,e,n){},uA43:function(t,e,n){"use strict";var i=n("iD1y"),s=n.n(i);s.a},uxmh:function(t,e,n){t.exports=n.p+"img/box.713f50cf.svg"},vCpH:function(t,e,n){},"vad+":function(t,e,n){"use strict";var i=n("XcBY"),s=n.n(i);s.a},wva9:function(t,e,n){},xxgk:function(t,e,n){"use strict";var i=n("Ez7R"),s=n.n(i);s.a},y1Qw:function(t,e,n){"use strict";var i=n("0Spp"),s=n.n(i);s.a},yAP3:function(t,e,n){"use strict";var i=n("VSmM"),s=n.n(i);s.a},zXau:function(t,e,n){},zYv9:function(t,e,n){}});
//# sourceMappingURL=app.13835bb9.js.map